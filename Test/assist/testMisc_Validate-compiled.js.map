{"version":3,"sources":["testMisc_Validate.js"],"names":[],"mappings":"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","file":"testMisc_Validate-compiled.js","sourcesContent":["/**\r\n * Created by wzhan039 on 2016-07-07.\r\n */\r\n'use strict'\r\nrequire(\"babel-polyfill\");\r\nrequire(\"babel-core/register\")\r\nvar testModule=require('../../server/assist/misc').func;\r\nvar miscError=require('../../server/define/error/nodeError').nodeError.assistError\r\nvar validateError=miscError.misc.validate\r\n/*          for generateRandomString test       */\r\nvar regex=require('../../server/define/regex/regex').regex\r\nvar dataType=require('../../server/define/enum/validEnum').enum.dataType\r\n//var randomStringTypeEnum=require('../../server/define/enum/node').node.randomStringType\r\n\r\n\r\n\r\n\r\n//var func=testModule.validate\r\n\r\n/***************************************************************************/\r\n/***************     checkDataTypeBaseOnTypeDefine      *******************/\r\n/***************************************************************************/\r\nvar checkDataTypeBaseOnTypeDefine=function(test){\r\n    let func=testModule.validate._private.checkDataTypeBaseOnTypeDefine\r\n    let value,tmpDataType,result,tmp\r\n\r\n    test.expect(9)\r\n\r\n    value='randomString'\r\n    tmpDataType='noEnumDataType'\r\n    result=func(value,tmpDataType)\r\n    test.equal(result.rc,validateError.unknownDataType.rc,'unknown data type check failed');\r\n\r\n    value='0'\r\n    tmpDataType=dataType.int\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,0,'data type int check failed');\r\n\r\n    value='1.1'\r\n    tmpDataType=dataType.float\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,1.1,'data type float check failed');\r\n\r\n    value='randomString'\r\n    tmpDataType=dataType.string\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,true,'data type string check failed');\r\n\r\n\r\n\r\n    value=new Date('2016').getTime()\r\n    tmpDataType=dataType.date\r\n    result=func(value,tmpDataType)\r\n    test.equal(result.toLocaleString(),new Date(value).toLocaleString(),'data type date check failed');\r\n\r\n    value=[]\r\n    tmpDataType=dataType.array\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,true,'data type array check failed');\r\n\r\n    value={}\r\n    tmpDataType=dataType.object\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,true,'data type object check failed');\r\n\r\n    value='C:/Windows/System32/drivers/etc/hosts'\r\n    tmpDataType=dataType.file\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,true,'data type file check failed');\r\n\r\n    value='C:/Program Files'\r\n    tmpDataType=dataType.folder\r\n    result=func(value,tmpDataType)\r\n    test.equal(result,true,'data type folder check failed');\r\n\r\n    test.done()\r\n\r\n}\r\n\r\n\r\n/***************************************************************************/\r\n/***************     checkRuleTypeBaseOnTypeDefine      *******************/\r\n/***************************************************************************/\r\nvar checkAllMandatoryFieldsExist=function(test){\r\n    //let a=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let func=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let value={\r\n        userName:{}\r\n    }\r\n    let result,tmp\r\n    test.expect(6);\r\n/*    commentPageSize: {\r\n            default:5,\r\n            type:dataType.int,\r\n            chineseName:'每页最多显示评论数',\r\n            require:{define:true,error:{rc:60040}},\r\n        min:{define:1,error:{rc:60041}},\r\n        max:{define:5,error:{rc:60042}},\r\n    },//每页显示评论的数量*/\r\n    /*          */\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.mandatoryFiledNotExist.rc,'chineseName undefined check failed');\r\n\r\n    value.userName.chineseName='用户名'\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.mandatoryFiledNotExist.rc,'type undefined check failed');\r\n\r\n    value.userName.type=dataType.array\r\n    //console.log(dataType.array)\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.mandatoryFiledNotExist.rc,'require undefined check failed');\r\n\r\n    value.userName.require={define:false,error:{rc:1234,msg:'1234'}}\r\n    //value.userName.require=\r\n    result=func(value)\r\n    test.equal(result.rc,0,'all mandatory field defined check failed');\r\n\r\n    value.userName.chineseName=[]\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.chineseNameNotString.rc,'chineseName type check failed');\r\n\r\n    value.userName.chineseName=''\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.chineseNameEmpty.rc,'chineseName empty check failed');\r\n\r\n\r\n/*    value.userName.require.define=false\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.errorFieldNotDefine.rc,'all Mandatory fields exists check failed');\r\n\r\n    value.userName.require.error={rc:1234,msg:'1234'}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'all Mandatory fields exists 1 check failed');*/\r\n/*    value.userName.type='invalid Type'\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.unknownDataType.rc,'no type check failed');*/\r\n\r\n    test.done()\r\n}\r\n\r\n\r\nvar checkRelatedField=function(test){\r\n    let func=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let result\r\n    let value={\r\n        userName:{\r\n            chineseName:'用户名',\r\n            require:{define:false,error:{rc:1234,msg:'1234'}}\r\n        }\r\n    }\r\n    test.expect(5);\r\n\r\n    value.userName.type=dataType.int\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.needMin.rc,'related field min check failed');\r\n\r\n    value.userName.min={}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.needMax.rc,'related field max check failed');\r\n\r\n    value.userName.max={}\r\n    value.userName.min=undefined\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.needMin.rc,'related field min1 check failed');\r\n\r\n    value.userName.type=dataType.number\r\n//console.log(value)\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.needMaxLength.rc,'related field maxLength check failed');\r\n\r\n    value.userName.maxLength={}\r\n    value.userName.require={define:false,error:{rc:1234,msg:'asdf'}}\r\n    value.userName.min=undefined\r\n    value.userName.max=undefined\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.ruleDefineNotDefine.rc,'related field maxLength 1 check failed');\r\n\r\n    test.done()\r\n}\r\n\r\n\r\nvar checkRuleDefine=function(test){\r\n    test.expect(16)\r\n    let result\r\n    let value={\r\n        userName:{\r\n            chineseName:'用户名',\r\n            type:dataType.string,\r\n            require:{define:false,error:{rc:1234,msg:''}}\r\n        }\r\n    }\r\n    let func=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n\r\n    let error={rc:1234,msg:'1111'}\r\n\r\n    /*      check related fields    */\r\n    //string,只检查maxLength\r\n    value.userName.maxLength={define:{},error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.maxLengthDefineNotInt.rc,'maxLength define type check failed');\r\n    value.userName.maxLength={define:'1',error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'maxLength define type 1 check failed');\r\n\r\n    value.userName.max={}\r\n    /*          check all fileds(define/error/rc/msg) in rule are exist*/\r\n    value.userName.max.error={rc:1234,msg:''}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.ruleDefineNotDefine.rc,'max define check failed');\r\n\r\n    value.userName.max.define=1\r\n    value.userName.max.error=undefined\r\n    //console.log(value)\r\n    result=func(value)\r\n    //console.log(result)\r\n    test.equal(result.rc,validateError.errorFieldNotDefine.rc,'max error check failed');\r\n\r\n    value.userName.max.error={rc:1234}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'max error msg check failed');\r\n\r\n    value.userName.max.error={msg:1234}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.rcFieldNotDefine.rc,'max error rc check failed');\r\n\r\n\r\n\r\n    value.userName.max=undefined\r\n\r\n\r\n\r\n\r\n    /*      check all rule type is right*/\r\n    value.userName.require={define:1,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.requireDefineNotBoolean.rc,'require define type check failed');\r\n    value.userName.require={define:false,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'require define type 1 check failed');\r\n\r\n\r\n\r\n    value.userName.maxLength={define:100,error:error}\r\n    value.userName.minLength={define:false,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.minLengthDefineNotInt.rc,'minLength define type check failed');\r\n    value.userName.minLength={define:1,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'minLength define type 1 check failed');\r\n\r\n\r\n\r\n    value.userName.exactLength={define:1.1,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.exactLengthDefineNotInt.rc,'exactLength define type check failed');\r\n    value.userName.exactLength={define:'1',error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'exactLength define type 1 check failed');\r\n\r\n    value.userName.min={define:false,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.minDefineNotInt.rc,'min define type check failed');\r\n    value.userName.min={define:1,error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'min define type 1 check failed');\r\n\r\n    value.userName.max={define:new Date(),error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,validateError.maxDefineNotInt.rc,'max define type check failed');\r\n    value.userName.max={define:'1',error:error}\r\n    result=func(value)\r\n    test.equal(result.rc,0,'max define type 1 check failed');\r\n\r\n    test.done()\r\n}\r\n\r\nvar sanityRules=function(test){\r\n    let func=testModule.validate._private.sanityRule\r\n    let preFunc=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let value,tmpDataType,result,tmp\r\n    let error={rc:1234,msg:''}\r\n\r\n    value={\r\n        userName:{\r\n            chineseName:'用户名',\r\n            type:dataType.int,\r\n            default:'1',\r\n            require:{define:false,error:error},\r\n            minLength:{define:'2',error:error},\r\n            maxLength:{define:'2',error:error},\r\n            exactLength:{define:'2',error:error},\r\n            min:{define:'2',error:error},\r\n            max:{define:'2',error:error},\r\n        }\r\n    }\r\n    test.expect(7)\r\n\r\n    result=preFunc(value)\r\n    test.equal(result.rc,0,'rule check fail')\r\n\r\n    func(value)\r\n    console.log(value)\r\n    test.equal(value.userName.default,1,'default value convert to int failed')\r\n    test.equal(value.userName.minLength.define,2,'minLength value convert to int failed')\r\n    test.equal(value.userName.maxLength.define,2,'maxLength value convert to int failed')\r\n    test.equal(value.userName.exactLength.define,2,'exactLength value convert to int failed')\r\n    test.equal(value.userName.min.define,2,'min value convert to int failed')\r\n    test.equal(value.userName.max.define,2,'max value convert to int failed')\r\n\r\n    test.done()\r\n}\r\n/***************************************************************************/\r\n/***************               checkInput                *******************/\r\n/***************************************************************************/\r\nvar checkInput=function(test){\r\n    let func=testModule.validate.checkInput\r\n    //let preFunc=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let rule,value,tmpDataType,result,tmp\r\n    let error={rc:1234,msg:''}\r\n\r\n    test.expect(11)\r\n\r\n    rule={\r\n        userName:{\r\n            chineseName:'用户名',\r\n            type:dataType.int,\r\n            default:10,\r\n            require:{define:true,error:error},\r\n            minLength:{define:2,error:error},\r\n            maxLength:{define:4,error:error},\r\n            exactLength:{define:2,error:error},\r\n            min:{define:10,error:error},\r\n            max:{define:9999,error:error},\r\n        }\r\n    }\r\n\r\n    value={\r\n        userName1:{\r\n\r\n        }\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.userName1.rc,validateError.valueRelatedRuleNotDefine.rc,'value related rule not defined fail')\r\n\r\n    value={\r\n        userName:{\r\n            value:null\r\n        }\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.userName.rc,0,'value not set and return default fail')\r\n    // console.log(result)\r\n    test.equal(value.userName.value,10,'value not set and return default 1 fail')\r\n\r\n    //console.log( rule.userName)\r\n    value={\r\n        userName:{\r\n            value:null\r\n        }\r\n    }\r\n    delete  rule.userName.default\r\n    result=func(value,rule)\r\n    //console.log( result.userName)\r\n    test.equal(result.userName.rc,validateError.valueNotDefineWithRequireTrue.rc,'value not set && require is true && default not set check fail')\r\n\r\n    rule.userName.require.define=false\r\n    rule.userName.default=undefined\r\n    result=func(value,rule)\r\n    //console.log(result.userName.rc)\r\n    test.equal(result.userName.rc,0,'value not set && require is false  check fail')\r\n\r\n    rule.userName.require.define=true\r\n    rule.userName.default='10'\r\n    value={\r\n        userName:{\r\n            value:[1]\r\n        }\r\n    }\r\n    result=func(value,rule)\r\n/*    console.log(result)\r\n    console.log(value)*/\r\n    test.equal(result.userName.rc,validateError.typeWrong.rc,'value type check fail')\r\n\r\n    //check reset rule expect require\r\n    value.userName={\r\n        value:1,\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.userName.rc,rule.userName.minLength.error.rc,'minLength check fail')\r\n\r\n    value.userName={\r\n        value:10000,\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.userName.rc,rule.userName.maxLength.error.rc,'maxLength check fail')\r\n\r\n    value.userName={\r\n        value:988,\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.userName.rc,rule.userName.exactLength.error.rc,'exactLength check fail')\r\n\r\n    rule={\r\n        user:{\r\n            chineseName:'用户',\r\n            type:dataType.string,\r\n            default:'男',\r\n            require:{define:true,error:error},\r\n            'enum':{define:['男','女'],error:{rc:1000,msg:'错误'}}\r\n        }\r\n    }\r\n\r\n    value={user:{value:'男'}}\r\n    result=func(value,rule)\r\n    //console.log(result)\r\n    test.equal(result.user.rc,0,'value in enum check fail')\r\n\r\n    value={user:{value:'人妖'}}\r\n    result=func(value,rule)\r\n    test.equal(result.user.rc,rule.user.enum.error.rc,'value not in enum check fail')\r\n\r\n    test.done()\r\n}\r\n\r\n//检查_id（rule中未定义）和外键id（rule中定义）\r\n//测试在checkInput中添加了新的代码\r\nvar checkInputAdditional=function(test){\r\n    test.expect(8)\r\n\r\n    let func=testModule.validate.checkInput\r\n    //let preFunc=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let rule,value,tmpDataType,result,tmp\r\n    let error={rc:1234,msg:''}\r\n\r\n    rule={}\r\n    value={\r\n        _id:{value:'57f8dc65a795ace017f36be7'},\r\n    }\r\n    result=func(value,rule)\r\n    //console.log(result)\r\n    test.equal(result._id.rc,0,'correct _id check fail')\r\n\r\n    value={\r\n        id:{value:'57f8dc65a795ace017f36be7'},\r\n    }\r\n    result=func(value,rule)\r\n    //console.log(result)\r\n    test.equal(result.id.rc,0,'correct id check fail')\r\n\r\n    value={\r\n        _id:{value:'57f8dc65a795ace017f36'},\r\n    }\r\n    result=func(value,rule)\r\n    //console.log(result)\r\n    test.equal(result._id.rc,validateError.idWrong.rc,'wrong _id check fail')\r\n    value={\r\n        id:{value:'57f8dc65a795ace017f36'},\r\n    }\r\n    result=func(value,rule)\r\n    //console.log(result)\r\n    test.equal(result.id.rc,validateError.idWrong.rc,'wrong id check fail')\r\n\r\n    rule={\r\n        fk:{\r\n            chineseName:'外键',\r\n            type:dataType.objectId,\r\n            // default:'10',\r\n            require:{define:true,error:error},\r\n        },\r\n    }\r\n\r\n    value={\r\n    }\r\n    result=func(value,rule,false) //false:base on inputRule(check all rule)\r\n    console.log(result)\r\n    test.equal(result.fk.rc,error.rc,'undefined fk check fail')\r\n\r\n    value={\r\n        fk:{value:'57f8dc65a795ace017f36be7'}\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.fk.rc,0,'correct fk check fail')\r\n\r\n    value={\r\n        fk:{value:'57f8dc65a795ace017f36b'}\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.fk.rc,validateError.objectIdWrong.rc,'wrong fk check fail')\r\n\r\n    rule={\r\n        fk:{\r\n            chineseName:'外键',\r\n            type:dataType.objectId,\r\n            // default:'10',\r\n            require:{define:false,error:error},\r\n        },\r\n    }\r\n    value={\r\n        fk:{value:'57f8dc65a795ace017f36b'}\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.fk.rc,0,'wrong fk but require false check fail')\r\n\r\n\r\n    test.done()\r\n}\r\n\r\n//独立的函数\r\nvar checkSearchValue=function(test){\r\n\r\n    test.expect(2)\r\n\r\n    let func=testModule.validate.checkSearchValue\r\n    //let preFunc=testModule.validate._private.checkRuleBaseOnRuleDefine\r\n    let rule,value,tmpDataType,result,tmp\r\n    let requireError={rc:1234,msg:''}\r\n    let maxLengthError={rc:1235,msg:''}\r\n\r\n    rule={name:{\r\n        chineseName:'名称',\r\n        type:dataType.string,\r\n        require:{define:false,error:requireError},\r\n        maxLength:{define:10,error:maxLengthError}\r\n    }}\r\n\r\n    value={\r\n        name:{\r\n            value:'123456789'\r\n        }\r\n    }\r\n    result=func(value,rule)\r\n    console.log(result)\r\n    test.equal(result.name.rc,0,'correct name length check fail')\r\n\r\n    value={\r\n        name:{\r\n            value:'12345678901'\r\n        }\r\n    }\r\n    result=func(value,rule)\r\n    test.equal(result.name.rc,rule.name.maxLength.error.rc,'wrong name length check fail')\r\n\r\n\r\n    test.done()\r\n}\r\n\r\n\r\nexports.validate={\r\n    _private:{\r\n        checkDataTypeBaseOnTypeDefine:checkDataTypeBaseOnTypeDefine,\r\n         checkRuleTypeBaseOnTypeDefine:{\r\n             checkAllMandatoryFieldsExist:checkAllMandatoryFieldsExist,\r\n             checkRelatedField:checkRelatedField,\r\n             checkRuleDefine:checkRuleDefine,\r\n         },\r\n        sanityRules:sanityRules,\r\n    },\r\n    checkInput,\r\n    checkInputAdditional,\r\n    checkSearchValue\r\n}"]}