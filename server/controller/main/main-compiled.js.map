{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["/**\r\n * Created by Ada on 2016/8/28.\r\n */\r\n'use strict'\r\nrequire(\"babel-polyfill\");\r\nrequire(\"babel-core/register\")\r\n\r\nvar express = require('express');\r\nvar app=express()\r\nvar router = express.Router();\r\n\r\n//var checkInterval=require('../../assist/misc-compiled').func.checkInterval\r\n\r\nvar controller=require('./mainRouterController-compiled')\r\nvar common=controller.common\r\nvar debugController=controller.debug\r\nvar userController=controller.user\r\nvar departmentController=controller.department\r\nvar employeeController=controller.employee\r\nvar billTypeController=controller.billType\r\nvar billController=controller.bill\r\n\r\n\r\n\r\nrouter.use(function(req,res,next){\r\n/*    console.log(req.ips)\r\n    console.log(req.ip)*/\r\n    console.log('router use')\r\n    if(\"development\"===app.get('env')){\r\n        console.log('dev, not check interval')\r\n        next()\r\n    }\r\n\r\n    if(\"production\"===app.get('env')) {\r\n        console.log(express().get('env'))\r\n        //console.log('%s %s %s', req.method, req.url, req.path);\r\n        //判断请求的是页面还是静态资源（css/js）\r\n        if (req.path) {\r\n            let tmp = req.path.split('.')\r\n            let suffix = tmp[tmp.length - 1]\r\n            //console.log(suffix)\r\n            switch (suffix) {\r\n                case 'css':\r\n                    //不对静态资源的请求进行检测\r\n                    next()\r\n                    break;\r\n                case 'js':\r\n                    //不对静态资源的请求进行检测\r\n                    next()\r\n                    break;\r\n                case 'map':\r\n                    //不对静态资源的请求进行检测\r\n                    next()\r\n                    break;\r\n                default:\r\n                    common(req, res, next).then(\r\n                        (v)=> {\r\n                            if (0 !== v['rc']) {\r\n                                return res.render('helper/reqReject', {\r\n                                    title: '拒绝请求',\r\n                                    content: v['msg'],\r\n                                    year: new Date().getFullYear()\r\n                                });\r\n                            }\r\n                            next()\r\n                        }\r\n                    ).catch(\r\n                        (e)=> {\r\n                            console.log(`router error is ${e}`)\r\n                        }\r\n                    )\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n})\r\n\r\nrouter.get('/', function(req,res,next){\r\n    // let a=1;\r\n    // console.log('i')\r\n    return res.render('main/main',{ title:'配置信息',year:new Date().getFullYear()});\r\n})\r\n\r\nrouter.delete(\"/\",function(req,res,next){\r\n    if('development'===app.get('env')){\r\n        debugController['removeAll'](req,res,next).then((v)=>{console.log(`remove all result is ${JSON.stringify(v)}`)},(e)=>console.log(`remove all fail ${JSON.stringify(e)}`))\r\n    }\r\n})\r\n/*************************       employee     *************************/\r\n//create\r\nrouter.post('/employee',function(req,res,next){\r\n    //employeeController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)}).catch((e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n    // console.log(`employee in `)\r\n    employeeController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)},(e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n})\r\n//read\r\nrouter.get('/employee',function(req,res,next){\r\n    employeeController.readAll(req,res,next).then((v)=>{console.log(`read all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read all fail ${JSON.stringify(e)}`))\r\n})\r\n//read single field\r\nrouter.get('/employee/name',function(req,res,next){\r\n    console.log('get no name ')\r\n    employeeController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\nrouter.get('/employee/name/:name',function(req,res,next){\r\n    console.log('get name ')\r\n    employeeController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\n//update\r\nrouter.put('/employee',function(req,res,next){\r\n    employeeController.update(req,res,next).then((v)=>{console.log(`put result is ${JSON.stringify(v)}`)},(e)=>console.log(`put fail ${JSON.stringify(e)}`))\r\n})\r\n//angular的delete无法像post一样传递额外数据，所以id要放在URL\r\nrouter.delete('/employee',function(req,res,next){\r\n    employeeController.remove(req,res,next).then((v)=>{console.log(`delete result is ${JSON.stringify(v)}`)},(e)=>console.log(`delete fail ${JSON.stringify(e)}`))\r\n})\r\n\r\n\r\n/*************************       department     *************************/\r\n//create\r\nrouter.post('/department',function(req,res,next){\r\n    //departmentController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)}).catch((e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n    departmentController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)},(e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n})\r\n//read\r\nrouter.get('/department',function(req,res,next){\r\n    departmentController.readAll(req,res,next).then((v)=>{console.log(`read all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read all fail ${JSON.stringify(e)}`))\r\n})\r\n//read single field\r\nrouter.get('/department/name',function(req,res,next){\r\n    console.log('get no name ')\r\n    departmentController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\nrouter.get('/department/name/:name',function(req,res,next){\r\n    console.log('get name ')\r\n    departmentController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\n//update\r\nrouter.put('/department',function(req,res,next){\r\n    departmentController.update(req,res,next).then((v)=>{console.log(`put result is ${JSON.stringify(v)}`)},(e)=>console.log(`put fail ${JSON.stringify(e)}`))\r\n})\r\n//angular的delete无法像post一样传递额外数据，所以id要放在URL\r\nrouter.delete('/department',function(req,res,next){\r\n    departmentController.remove(req,res,next).then((v)=>{console.log(`delete result is ${JSON.stringify(v)}`)},(e)=>console.log(`delete fail ${JSON.stringify(e)}`))\r\n})\r\n\r\n/*************************       billType     *************************/\r\n//create\r\nrouter.post('/billType',function(req,res,next){\r\n    billTypeController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)},(e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n})\r\n//read\r\nrouter.get('/billType',function(req,res,next){\r\n    billTypeController.readAll(req,res,next).then((v)=>{console.log(`read all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read all fail ${JSON.stringify(e)}`))\r\n})\r\n//read single field\r\nrouter.get('/billType/name',function(req,res,next){\r\n    console.log('get no name ')\r\n    billTypeController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\nrouter.get('/billType/name/:name',function(req,res,next){\r\n    console.log('get name ')\r\n    billTypeController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\n//update\r\nrouter.put('/billType',function(req,res,next){\r\n    billTypeController.update(req,res,next).then((v)=>{console.log(`put result is ${JSON.stringify(v)}`)},(e)=>console.log(`put fail ${JSON.stringify(e)}`))\r\n})\r\n//angular的delete无法像post一样传递额外数据，所以id要放在URL\r\nrouter.delete('/billType/:id',function(req,res,next){\r\n    //console.log(req.params)\r\n    billTypeController.remove(req,res,next).then((v)=>{console.log(`delete result is ${JSON.stringify(v)}`)},(e)=>console.log(`delete fail ${JSON.stringify(e)}`))\r\n})\r\n//search\r\nrouter.post('/billType/search',function(req,res,next){\r\n    console.log(req.body.values)\r\n    billTypeController.search(req,res,next).then((v)=>{console.log(`search result is ${JSON.stringify(v)}`)},(e)=>console.log(`search fail ${JSON.stringify(e)}`))\r\n})\r\n\r\n/*************************       bill     *************************/\r\n//create\r\nrouter.post('/bill',function(req,res,next){\r\n    //billController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)}).catch((e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n    billController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)},(e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n})\r\n//read\r\nrouter.get('/bill',function(req,res,next){\r\n    billController.readAll(req,res,next).then((v)=>{console.log(`read all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read all fail ${JSON.stringify(e)}`))\r\n})\r\n//read single field\r\nrouter.get('/bill/name',function(req,res,next){\r\n    console.log('get no name ')\r\n    billController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\nrouter.get('/bill/name/:name',function(req,res,next){\r\n    console.log('get name ')\r\n    billController.readName(req,res,next).then((v)=>{console.log(`read anme all result is ${JSON.stringify(v)}`)},(e)=>console.log(`read name all fail ${JSON.stringify(e)}`))\r\n})\r\n//update\r\nrouter.put('/bill',function(req,res,next){\r\n    billController.update(req,res,next).then((v)=>{console.log(`put result is ${JSON.stringify(v)}`)},(e)=>console.log(`put fail ${JSON.stringify(e)}`))\r\n})\r\n//angular的delete无法像post一样传递额外数据，所以id要放在URL\r\nrouter.delete('/bill',function(req,res,next){\r\n    billController.remove(req,res,next).then((v)=>{console.log(`delete result is ${JSON.stringify(v)}`)},(e)=>console.log(`delete fail ${JSON.stringify(e)}`))\r\n})\r\n\r\n\r\nmodule.exports = router;"]}