{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;;;AAGA;;AACA,QAAQ,gBAAR;AACA,QAAQ,qBAAR;;AAEA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,SAAS,QAAQ,MAAR,EAAb;;AAEA,IAAI,SAAO,QAAQ,iCAAR,EAA2C,MAAtD;;AAEA,IAAI,qBAAmB,QAAQ,iCAAR,EAA2C,QAAlE;AACA,OAAO,GAAP,CAAW,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB;AACjC;;AAEI,YAAQ,GAAR,CAAY,YAAZ;AACA;AACA;AACA,QAAG,IAAI,IAAP,EAAY;AACR,YAAI,MAAI,IAAI,IAAJ,CAAS,KAAT,CAAe,GAAf,CAAR;AACA,YAAI,SAAO,IAAI,IAAI,MAAJ,GAAW,CAAf,CAAX;AACA;AACA,gBAAQ,MAAR;AACI,iBAAK,KAAL;AACI;AACA;AACA;AACJ,iBAAK,IAAL;AACI;AACA;AACA;AACJ,iBAAK,KAAL;AACI;AACA;AACA;AACJ;AACI,uBAAO,GAAP,EAAW,GAAX,EAAe,IAAf,EAAqB,IAArB,CACI,UAAC,CAAD,EAAK;AACD,wBAAG,MAAI,EAAE,IAAF,CAAP,EAAe;AACX,+BAAO,IAAI,MAAJ,CAAW,kBAAX,EAA8B,EAAE,OAAM,MAAR,EAAe,SAAQ,EAAE,KAAF,CAAvB,EAAgC,MAAK,IAAI,IAAJ,GAAW,WAAX,EAArC,EAA9B,CAAP;AACH;AACD;AACH,iBANL,EAOE,KAPF,CAQI,UAAC,CAAD,EAAK;AAAC,4BAAQ,GAAR,sBAA+B,CAA/B;AAAoC,iBAR9C;;AAdR;AA2BH;;AAID;AACH,CA1CD;;AA4CA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB;AAClC;AACA;AACA,WAAO,IAAI,MAAJ,CAAW,WAAX,EAAuB,EAAE,OAAM,MAAR,EAAe,MAAK,IAAI,IAAJ,GAAW,WAAX,EAApB,EAAvB,CAAP;AACH,CAJD;;AAOA;;;AAGA;AACA,OAAO,IAAP,CAAY,WAAZ,EAAwB,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB;AAC1C;AACA,uBAAmB,MAAnB,CAA0B,GAA1B,EAA8B,GAA9B,EAAkC,IAAlC,EAAwC,IAAxC,CAA6C,UAAC,CAAD,EAAK;AAAC,gBAAQ,GAAR,qBAA8B,KAAK,SAAL,CAAe,CAAf,CAA9B;AAAmD,KAAtG,EAAuG,UAAC,CAAD;AAAA,eAAK,QAAQ,GAAR,gBAAyB,KAAK,SAAL,CAAe,CAAf,CAAzB,CAAL;AAAA,KAAvG;AACH,CAHD;AAIA;AACA,OAAO,GAAP,CAAW,WAAX,EAAuB,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB,CAE5C,CAFD;AAGA;AACA,OAAO,GAAP,CAAW,gBAAX,EAA4B,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB,CAEjD,CAFD;AAGA;AACA,OAAO,GAAP,CAAW,WAAX,EAAuB,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB,CAE5C,CAFD;AAGA;AACA,OAAO,GAAP,CAAW,WAAX,EAAuB,UAAS,GAAT,EAAa,GAAb,EAAiB,IAAjB,EAAsB,CAE5C,CAFD;AAGA,OAAO,OAAP,GAAiB,MAAjB","file":"main-compiled.js","sourcesContent":["/**\r\n * Created by Ada on 2016/8/28.\r\n */\r\n'use strict'\r\nrequire(\"babel-polyfill\");\r\nrequire(\"babel-core/register\")\r\n\r\nvar express = require('express');\r\nvar router = express.Router();\r\n\r\nvar common=require('./mainRouterController-compiled').common\r\n\r\nvar billTypeController=require('./mainRouterController-compiled').billType\r\nrouter.use(function(req,res,next){\r\n/*    console.log(req.ips)\r\n    console.log(req.ip)*/\r\n    console.log('router use')\r\n    //console.log('%s %s %s', req.method, req.url, req.path);\r\n    //判断请求的是页面还是静态资源（css/js）\r\n    if(req.path){\r\n        let tmp=req.path.split('.')\r\n        let suffix=tmp[tmp.length-1]\r\n        //console.log(suffix)\r\n        switch (suffix){\r\n            case 'css':\r\n                //不对静态资源的请求进行检测\r\n                next()\r\n                break;\r\n            case 'js':\r\n                //不对静态资源的请求进行检测\r\n                next()\r\n                break;\r\n            case 'map':\r\n                //不对静态资源的请求进行检测\r\n                next()\r\n                break;\r\n            default:\r\n                common(req,res,next).then(\r\n                    (v)=>{\r\n                        if(0!==v['rc']){\r\n                            return res.render('helper/reqReject',{ title:'拒绝请求',content:v['msg'],year:new Date().getFullYear()});\r\n                        }\r\n                        next()\r\n                    }\r\n                ).catch(\r\n                    (e)=>{console.log(`router error is ${e}`)}\r\n                )\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    //next()\r\n})\r\n\r\nrouter.get('/', function(req,res,next){\r\n    // let a=1;\r\n    // console.log('i')\r\n    return res.render('main/main',{ title:'配置信息',year:new Date().getFullYear()});\r\n})\r\n\r\n\r\n/*\r\n*       billType\r\n* */\r\n//create\r\nrouter.post('/billType',function(req,res,next){\r\n    //billTypeController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)}).catch((e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n    billTypeController.create(req,res,next).then((v)=>{console.log(`post result is ${JSON.stringify(v)}`)},(e)=>console.log(`post fail ${JSON.stringify(e)}`))\r\n})\r\n//read\r\nrouter.get('/billType',function(req,res,next){\r\n\r\n})\r\n//read single field\r\nrouter.get('/billType/name',function(req,res,next){\r\n\r\n})\r\n//update\r\nrouter.put('/billType',function(req,res,next){\r\n\r\n})\r\n//delete\r\nrouter.put('/billType',function(req,res,next){\r\n\r\n})\r\nmodule.exports = router;"]}