{"version":3,"sources":["wrapAsyncNode.js"],"names":[],"mappings":";;AAAA;;;AAGI;AACJ,IAAI,KAAG,QAAQ,IAAR,CAAP;AACA,IAAI,QAAM,QAAQ,sCAAR,EAAgD,cAA1D;;AAEA,IAAI,QAAM,EAAC,IAAG,CAAJ,EAAV;;AAEA,IAAI,UAAQ;AACR,wBADQ,gCACa,QADb,EACsB;AAC1B,eAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAiB,MAAjB,EAAwB;AACvC,eAAG,MAAH,CAAU,QAAV,EAAmB,GAAG,IAAtB,EAA2B,UAAC,GAAD,EAAO;AAC9B,oBAAG,GAAH,EAAO;AACH,4BAAQ,MAAM,EAAN,CAAS,YAAT,CAAsB,QAAtB,CAAR;AACH,iBAFD,MAEK;AACD,4BAAQ,KAAR;AACH;AACJ,aAND;AAOH,SARM,CAAP;AASH,KAXO;AAYR,iBAZQ,yBAYM,IAZN,EAYW;AACf,eAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAiB,MAAjB,EAAwB;AACvC,eAAG,QAAH,CAAY,IAAZ,EAAiB,UAAC,GAAD,EAAK,IAAL,EAAY;AACzB,oBAAG,GAAH,EAAO;AAAC,2BAAO,MAAM,EAAN,CAAS,YAAT,CAAsB,IAAtB,CAAP;AAAoC;AAC5C,wBAAQ,IAAR;AACH,aAHD;AAIH,SALM,CAAP;AAOH,KApBO;AAqBR,gBArBQ,wBAqBK,IArBL,EAqBU;AACd,eAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAiB,MAAjB,EAAwB;AACvC,eAAG,OAAH,CAAW,IAAX,EAAgB,UAAC,GAAD,EAAK,IAAL,EAAY;AACxB,oBAAG,GAAH,EAAO;AAAC,2BAAO,MAAM,EAAN,CAAS,YAAT,CAAsB,IAAtB,CAAP;AAAoC;AAC5C,wBAAQ,IAAR;AACH,aAHD;AAIH,SALM,CAAP;AAMH,KA5BO;AA6BR,eA7BQ,uBA6BI,IA7BJ,EA6BS;AACb,eAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAiB,MAAjB,EAAwB;AACvC,eAAG,KAAH,CAAS,IAAT,EAAc,UAAC,GAAD,EAAK,KAAL,EAAa;AACvB;AACA,oBAAG,GAAH,EAAO;AAAC,2BAAO,MAAM,EAAN,CAAS,SAAT,CAAmB,IAAnB,CAAP;AAAiC;AACzC;AACA,wBAAQ,MAAM,MAAN,EAAR;AACH,aALD;AAMH,SAPM,CAAP;AAQH,KAtCO;AAuCR,cAvCQ,sBAuCG,GAvCH,EAuCO;AACX,eAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAiB,MAAjB,EAAwB;AACvC,eAAG,KAAH,CAAS,GAAT,EAAa,UAAC,GAAD,EAAK,KAAL,EAAa;AACtB,oBAAG,GAAH,EAAO;AAAC,2BAAO,MAAM,EAAN,CAAS,SAAT,CAAmB,GAAnB,CAAP;AAAgC;AACxC,wBAAQ,MAAM,WAAN,EAAR;AACH,aAHD;AAIH,SALM,CAAP;AAMH;AA9CO,CAAZ;;AAiDA,OAAO,OAAP,GAAe;AACX;AADW,CAAf","file":"wrapAsyncNode-compiled.js","sourcesContent":["/**\r\n * Created by ada on 2016/8/7.\r\n */\r\n    /*全部使用reslove返回数据，便于调试，以及便于通过rc判断*/\r\nvar fs=require('fs')\r\nvar error=require('../../../define/error/asyncNodeError').asyncNodeError\r\n\r\nvar right={rc:0}\r\n\r\nvar asyncFs={\r\n    asyncFileFolderExist(filePath){\r\n        return new Promise(function(reslove,reject){\r\n            fs.access(filePath,fs.F_OK,(err)=>{\r\n                if(err){\r\n                    reslove(error.fs.fileNotExist(filePath))\r\n                }else{\r\n                    reslove(right)\r\n                }\r\n            })\r\n        })\r\n    },\r\n    asyncReadFile(file){\r\n        return new Promise(function(resolve,reject){\r\n            fs.readFile(file,(err,data)=>{\r\n                if(err){reject(error.fs.readFileFail(file))}\r\n                resolve(data)\r\n            })\r\n        })\r\n\r\n    },\r\n    asyncReadDir(path){\r\n        return new Promise(function(resolve,reject){\r\n            fs.readdir(path,(err,data)=>{\r\n                if(err){reject(error.fs.readFDirFail(path))}\r\n                resolve(data)\r\n            })\r\n        })\r\n    },\r\n    asyncIsFile(file){\r\n        return new Promise(function(resolve,reject){\r\n            fs.lstat(file,(err,stats)=>{\r\n                // console.log(file);\r\n                if(err){reject(error.fs.fstatFail(file))}\r\n                // console.log(stats);\r\n                resolve(stats.isFile())\r\n            })\r\n        })\r\n    },\r\n    asyncIsDir(dir){\r\n        return new Promise(function(resolve,reject){\r\n            fs.lstat(dir,(err,stats)=>{\r\n                if(err){reject(error.fs.fstatFail(dir))}\r\n                resolve(stats.isDirectory())\r\n            })\r\n        })\r\n    },\r\n}\r\n\r\nmodule.exports={\r\n    asyncFs,\r\n}\r\n"]}