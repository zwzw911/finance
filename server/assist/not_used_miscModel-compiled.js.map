{"version":3,"sources":["not_used_miscModel.js"],"names":[],"mappings":"AAAA;;;AAGA;;AACA,QAAQ,gBAAR;AACA,QAAQ,qBAAR;;AAGA,IAAI,uBAAqB,QAAQ,4BAAR,EAAsC,oBAA/D;AACA;AACA,IAAI,oBAAkB,SAAlB,iBAAkB,CAAS,SAAT,EAAmB,WAAnB,EAA+B,eAA/B,EAA+C;AACjE,WAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAiB,MAAjB,EAAwB;AACvC,YAAI,eAAa,KAAjB;AACA;AAFuC;AAAA;AAAA;;AAAA;AAGvC,iCAAgC,eAAhC,8HAAgD;AAAA,oBAAxC,oBAAwC;;AAC5C,oBAAG,UAAU,oBAAV,CAAH,EAAmC;AAC/B,mCAAa,IAAb;AACA;AACH;AACJ;AACD;AATuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUvC,YAAG,YAAH,EAAgB;AACZ,sBAAU,QAAV,CAAmB,WAAnB,EAA+B,UAAS,WAAT,EAAqB,cAArB,EAAoC;AAC/D;AACA,oBAAG,WAAH,EAAe;AACX;AACA,4BAAS,qBAAqB,WAArB,CAAT;AACH;AACD,wBAAQ,EAAC,IAAG,CAAJ,EAAM,KAAI,cAAV,EAAR;AACH,aAPD;AAQH,SATD,MASK;AACD,oBAAQ,EAAC,IAAG,CAAJ,EAAM,KAAI,SAAV,EAAR;AACH;AACJ,KAtBM,CAAP;AAwBH,CAzBD;;AA2BA,OAAO,OAAP,GAAe;AACX;AADW,CAAf","file":"not_used_miscModel-compiled.js","sourcesContent":["/**\r\n * Created by Ada on 2016/10/22.\r\n */\r\n'use strict'\r\nrequire(\"babel-polyfill\");\r\nrequire(\"babel-core/register\")\r\n\r\n\r\nvar mongooseErrorHandler=require('../define/error/mongoError').mongooseErrorHandler\r\n//检测populateFields的字段是否有值，有进行populate，否则直接返回原始doc\r\nvar populateSingleDoc=function(singleDoc,populateOpt,populatedFields){\r\n    return new Promise(function(resolve,reject){\r\n        let populateFlag=false\r\n        // let createdResult=singleDoc\r\n        for(let singlePopulatedField of populatedFields){\r\n            if(singleDoc[singlePopulatedField]){\r\n                populateFlag=true\r\n                break;\r\n            }\r\n        }\r\n        // console.log(`department insert result is ${JSON.stringify(result)}`)\r\n        if(populateFlag){\r\n            singleDoc.populate(populateOpt,function(populateErr,populateResult){\r\n                //console.log('create populate')\r\n                if(populateErr){\r\n                    //console.log(`department create fail: ${JSON.stringify(populateErr)}`)\r\n                    resolve( mongooseErrorHandler(populateErr))\r\n                }\r\n                resolve({rc:0,msg:populateResult})\r\n            })\r\n        }else{\r\n            resolve({rc:0,msg:singleDoc})\r\n        }\r\n    })\r\n\r\n}\r\n\r\nmodule.exports={\r\n    populateSingleDoc,\r\n}"]}