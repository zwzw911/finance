{"version":3,"sources":["mainController.js"],"names":[],"mappings":"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","file":"mainController-compiled.js","sourcesContent":["/**\r\n * Created by ada on 2016/8/28.\r\n */\r\nvar app=angular.module('app',['ui.router','ui.event','ngSanitize','MassAutoComplete','contDefine','component','finance'])\r\n/*app.constant('cont',{\r\n    asideName:{configuration:'配置信息',bill:'单据信息'},//aside菜单名称\r\n    //根据dbstructure设置查询条件\r\n    filterField:{\r\n        department:{\r\n            name:{labelName:'部门名称', inputType:'text'}\r\n        },\r\n        employee:{},\r\n        billType:{},\r\n        bill:{}\r\n    },\r\n})*/\r\n\r\napp.config(function($stateProvider,$urlRouterProvider,$locationProvider){\r\n    $locationProvider.html5Mode(true);//为了去除url中的#\r\n\r\n    $urlRouterProvider.when(\"\", \"/configuration\").otherwise(\"/\");\r\n    $stateProvider\r\n        .state('configuration',{\r\n            url:'/configuration',\r\n            templateUrl:'configuration.ejs',\r\n            controller:'configurationController',//只需在此定义；ui-view对应的ejs部分，无需写入ng-controller\r\n        })\r\n        .state('configuration.billType',{\r\n            url:'/billType',\r\n            templateUrl:'configuration.billType.ejs',\r\n            controller:'configuration.billType.Controller',\r\n        })\r\n        .state('configuration.departmentInfo',{\r\n            url:'/departmentInfo',\r\n            templateUrl:'configuration.departmentInfo.ejs',\r\n            controller:'configuration.departmentInfo.Controller',\r\n        })\r\n        .state('configuration.employeeInfo',{\r\n            url:'/employeeInfo',\r\n            templateUrl:'configuration.employeeInfo.ejs',\r\n            controller:'configuration.employeeInfo.Controller',\r\n        })\r\n\r\n        .state('bill',{\r\n            url:'/bill',\r\n            templateUrl:'bill.ejs',\r\n            controller:'billController',\r\n        })\r\n        .state('bill.billInfo',{\r\n            url:'/billInfo',\r\n            templateUrl:'bill.billInfo.ejs',\r\n            controller:'bill.billInfo.Controller',\r\n    })\r\n\r\n})\r\n\r\napp.controller('mainController',function($scope,htmlHelper){\r\n    htmlHelper.adjustFooterPosition()\r\n\r\n    window.onresize=function(){\r\n        htmlHelper.adjustFooterPosition()\r\n        htmlHelper.verticalModalCenter('CRUDRecorder')\r\n    }\r\n})\r\n\r\napp.controller('configurationController',function($scope,htmlHelper){\r\n    htmlHelper.adjustFooterPosition()\r\n    $scope.adjustFooterPosition=function(){\r\n        //console.log('configuration resize')\r\n        htmlHelper.adjustFooterPosition()\r\n    }\r\n\r\n})\r\n\r\n/*test=function(){\r\n    console.log('test in')\r\n}*/\r\napp.controller('configuration.billType.Controller',function($scope,$q,$sce,cont,contEnum,inputAttrHelper,htmlHelper,validateHelper,financeHelper,commonHelper,financeCRUDHelper){\r\n\r\n    //需要用到的数据\r\n    $scope.allData={\r\n        inputAttr:cont.inputAttr.billType,//CRUD记录的时候，对输入进行设置\r\n        inputRule:cont.inputRule.billType,//CRUD，对输入进行设置（min/maxLength）以及进行检测\r\n        //存储当前载入的数据，数组，以便判断是否为空\r\n        recorder:[],\r\n\r\n        queryFieldEnable:false,//当前 字段查询是否展开\r\n\r\n        selectedQueryField:'', //当前选中的查询字段\r\n        selectedQueryFieldValue:undefined,//下拉菜单中选中的值\r\n        queryField:cont.queryField.billType, //可选的查询字段\r\n\r\n        activeQueryValue:{},//当前生效的查询字段和查询值 {field:['value1','value2']}\r\n\r\n        recorderDialogShow:false,//当前modal-dialog是否显示（用来add/modify记录）\r\n        \r\n        //从finance/financeCRUDHelper中载入对应CRUD方法\r\n        //CRUDOperation:financeCRUDHelper.billType,\r\n\r\n        // currentOperation:'',\r\n        currentIdx:-1, //当前操作的记录的idx\r\n\r\n        selectedAC:{\r\n            name:{value:null,_id:null},\r\n            parentBillType:{value:null,_id:null},//value：选中的记录的名称，id：选中的记录的实际id。ac有时候需要显示给用户 字符，但实际传递给server id，以便操作\r\n\r\n        },\r\n\r\n        currentOpType:null,\r\n\r\n    }\r\n\r\n\r\n\r\n//}\r\n    $scope.allFunc={\r\n        loadCurrentData:function(idx,inputAttr,recorder){\r\n            inputAttrHelper.loadCurrentData(idx,inputAttr,recorder);\r\n        },\r\n        initAllFieldInputAttr:function(inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            //console.log(`optype is ${}`)\r\n            if(contEnum.opType.create===$scope.allData.currentOpType){\r\n                inputAttrHelper.initAllFieldInputAttrCreate(inputAttr)\r\n            }\r\n            if(contEnum.opType.update===$scope.allData.currentOpType){\r\n                inputAttrHelper.initAllFieldInputAttrUpdate(inputAttr)\r\n            }\r\n\r\n        },\r\n        initSingleFieldInputAttr:function(field,inputAttr){\r\n            //console.log(`field is ${field}`)\r\n            //console.log(`inputAttr is ${JSON.stringify(inputAttr)}`)\r\n            $scope.modal.buttonFlag=true;\r\n            if(contEnum.opType.create===$scope.allData.currentOpType){\r\n                inputAttrHelper.initSingleFieldInputAttrCreate(field,inputAttr)\r\n            }\r\n            if(contEnum.opType.update===$scope.allData.currentOpType){\r\n                inputAttrHelper.initSingleFieldInputAttrUpdate(field,inputAttr)\r\n            }\r\n            // financeHelper.initSingleFieldInputAttr(field,inputAttr,this.currentOpType)\r\n        },\r\n        setCurrentOpTypeCreate(){\r\n            $scope.allData.currentOpType=contEnum.opType.create\r\n        },\r\n        setCurrentOpTypeUpdate(){\r\n            $scope.allData.currentOpType=contEnum.opType.update\r\n        },\r\n        setCurrentOpTypeDelete(){\r\n            $scope.allData.currentOpType=contEnum.opType.delete\r\n        },\r\n\r\n        CRUDOperation:function(idx,inputAttr,recorder,selectedAC){\r\n            console.log(`current op type is ${$scope.allData.currentOpType.toString()}`)\r\n            console.log(`current selectedAC is ${selectedAC}`)\r\n            if(contEnum.opType.create===$scope.allData.currentOpType){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.dataOperator.billType.create(idx,inputAttr,recorder,selectedAC);\r\n                    $scope.allFunc.switchDialogStatus()\r\n                }\r\n            }\r\n            if(contEnum.opType.update===$scope.allData.currentOpType){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.dataOperator.billType.update(idx,inputAttr,recorder,selectedAC);\r\n                    $scope.allFunc.switchDialogStatus();\r\n                }\r\n            }\r\n            if(contEnum.opType.delete===$scope.allData.currentOpType){\r\n                //if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.dataOperator.billType.delete(idx,recorder);\r\n                    //$scope.switchDialogStatus();\r\n                //}\r\n            }\r\n        },\r\n\r\n        //当input提供autoComplete功能时，blur要做的操作\r\n        //因为需要额外的检测当前input的value是否有对应的外键（是否为－1），所以独立为一个函数\r\n        //currentId:当前记录的objId\r\n        acBlur:function(field,inputAttr,currentId){\r\n            //console.log(`currentId is ${currentId}`)\r\n            inputAttrHelper.initSingleFieldInputAttrUpdate(field,inputAttr)\r\n            //console.log(`check id is ${$scope.allData.selectedAC[field]}`)\r\n            //acBlur无需检测input（min/max/minLength等），只需检测a，是否选择（null或者objId），b.是否和当前一样（不能把自己当成自己的父）\r\n            if(-1===$scope.allData.selectedAC[field]){\r\n                //console.log(`before msg is ${JSON.stringify(inputAttr[field])}`)\r\n                inputAttrHelper.setSingleInputAttrErrorMsg(field,inputAttr,`${inputAttr[field]['chineseName']}${inputAttr[field]['value']}不存在`)\r\n                //console.log(`after err msg is ${JSON.stringify(JSON.stringify(inputAttr[field]))}`)\r\n                //return false\r\n            }else{\r\n                if($scope.allData.selectedAC[field]===currentId){\r\n                    inputAttrHelper.setSingleInputAttrErrorMsg(field,inputAttr,`${inputAttr[field]['chineseName']}不能为自己`)\r\n                }\r\n\r\n            }\r\n\r\n/*            else{\r\n                financeHelper.checkInput(field,inputRule,inputAttr)\r\n            }*/\r\n\r\n            //modal.allInputValidCheck(inputAttr)\r\n            $scope.modal.buttonFlag=inputAttrHelper.allInputValidCheck(inputAttr)\r\n/*            console.log(`validate result is ${JSON.stringify(inputAttr)}`)\r\n            console.log(`but flag is ${$scope.modal.buttonFlag}`)*/\r\n        },\r\n\r\n        nonAcBlur:function(field,inputRule,inputAttr){\r\n            validateHelper.checkInput(field,inputRule,inputAttr)\r\n        },\r\n\r\n\r\n        allInputValidCheck:function(inputAttr){\r\n            $scope.modal.buttonFlag=inputAttrHelper.allInputValidCheck(inputAttr)\r\n        },\r\n        //create/update\r\n\r\n        allCheckInput:function(inputRule,inputAttr){\r\n            validateHelper.allCheckInput(inputRule,inputAttr)\r\n        },\r\n\r\n        queryFieldChange:function(selectedQueryField){\r\n            $scope.allData.selectedQueryFieldValue=''\r\n        },\r\n\r\n        clickQueryFlag:function(){\r\n            $scope.allData.queryFieldEnable=!$scope.allData.queryFieldEnable\r\n        },\r\n\r\n\r\n        switchDialogStatus:function(){\r\n            $scope.allData.recorderDialogShow=!$scope.allData.recorderDialogShow\r\n            htmlHelper.verticalModalCenter('CRUDRecorder')\r\n        },\r\n\r\n        setCurrentIdx:function(idx){\r\n            $scope.allData.currentIdx=idx\r\n        },\r\n\r\n        //因为需要对$scope.allData下的数据进行操作，所以不能单独放到一个module中，只能放在controller中\r\n        acFun:{\r\n            //for query and update\r\n            parentBillType: {\r\n                suggest: function (name) {\r\n                    let deferred = $q.defer()\r\n                    financeCRUDHelper.dataOperator.billType.readName(name).success(function (data, status, header, config) {\r\n                        //$scope.allData.inputAttr['parentBillType']['suggestList']=[]\r\n                        let tmpResult = []\r\n                        //console.log(`get suggest result is ${data.msg}`)\r\n                        //初始设为-1\r\n                        if ('' !== name && null !== name) {\r\n                            $scope.allData.selectedAC.parentBillType = -1\r\n                        }\r\n\r\n                        if (data.msg.length > 0) {\r\n                            data.msg.forEach(function (e) {\r\n                                //label:下拉菜单中的选项，value：选中后显示的内容，id:选中项目的id（用作外键）\r\n                                tmpResult.push({label: e.name, value: e.name, id: e._id})\r\n                                //如果当前输入的值存在选项中，隐式的认为此值被选中\r\n                                console.log(`suggest change: term is ${name}, item name is ${e.name}`)\r\n                                if (name === e.name) {\r\n//console.log(`input is selet`)\r\n                                    $scope.allData.selectedAC.parentBillType = e._id\r\n                                    console.log(`set id is ${$scope.allData.selectedAC.parentBillType}`)\r\n                                }\r\n                            })\r\n                            deferred.resolve(tmpResult)\r\n                            //$scope.allData.inputAttr['parentBillType']['suggestList']=$scope.suggestListValue.parentBillType\r\n                            //$scope.suggestListValue\r\n                        }\r\n                    }).error(function (data, status, header, config) {\r\n                        deferred.resolve({rc: 9999, msg: data})\r\n                    })\r\n                    return deferred.promise\r\n                },\r\n                on_select: function (selected) {\r\n                    console.log(`selected is ${JSON.stringify(selected)}`)\r\n                    $scope.allData.selectedAC.parentBillType = selected.id\r\n                }\r\n            },\r\n            //only for query\r\n            name: {\r\n                suggest: function (name) {\r\n                    let deferred = $q.defer()\r\n                    financeCRUDHelper.dataOperator.billType.readName(name).success(function (data, status, header, config) {\r\n\r\n                        let tmpResult = []\r\n                        //console.log(`get suggest result is ${data.msg}`)\r\n                        //初始设为-1\r\n                        if ('' !== name && null !== name) {\r\n                            $scope.allData.selectedAC.illType = -1\r\n                        }\r\n\r\n                        if (data.msg.length > 0) {\r\n                            data.msg.forEach(function (e) {\r\n                                //label:下拉菜单中的选项，value：选中后显示的内容，id:选中项目的id（用作外键）\r\n                                tmpResult.push({label: e.name, value: e.name, id: e._id})\r\n                                //如果当前输入的值存在选项中，隐式的认为此值被选中\r\n                                console.log(`suggest change: term is ${name}, item name is ${e.name}`)\r\n                                if (name === e.name) {\r\n//console.log(`input is selet`)\r\n                                    $scope.allData.selectedAC.billType = e._id\r\n                                    console.log(`set id is ${$scope.allData.selectedAC.billType}`)\r\n                                }\r\n                            })\r\n                            deferred.resolve(tmpResult)\r\n                            //$scope.allData.inputAttr['parentBillType']['suggestList']=$scope.suggestListValue.parentBillType\r\n                            //$scope.suggestListValue\r\n                        }\r\n                    }).error(function (data, status, header, config) {\r\n                        deferred.resolve({rc: 9999, msg: data})\r\n                    })\r\n                    return deferred.promise\r\n                },\r\n                on_select: function (selected) {\r\n                    console.log(`selected is ${JSON.stringify(selected)}`)\r\n                    $scope.allData.selectedAC.billType = selected.id\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.modal={\r\n        title:{'create':'添加数据','update':'修改数据'},\r\n        buttonFlag:true,//初始为true\r\n    }\r\n\r\n    htmlHelper.adjustFooterPosition()\r\n    //初始化调用\r\n    $scope.deleteQueryValue=financeHelper.deleteQueryValue\r\n    $scope.addQueryValue=financeHelper.addQueryValue\r\n\r\n    //同时提供query和update时使用\r\n    $scope.allData.inputAttr['parentBillType']['suggestList']=$scope.allFunc.acFun.parentBillType\r\n    //only for query\r\n    $scope.allData.inputAttr['name']['suggestList']=$scope.allFunc.acFun.billType\r\n\r\n    financeCRUDHelper.dataOperator.billType.read($scope.allData.recorder)\r\n\r\n})\r\n\r\n\r\n\r\n/*\r\napp.controller('configuration.departmentInfo.Controller',function($scope,cont,basicHelper,helper,$sce,financeHelper,financeCRUDHelper,contEnum){\r\n    $scope.allData={\r\n        inputAttr:cont.inputAttr.department,//CRUD记录的时候，对输入进行设置\r\n        inputRule:cont.inputRule.department,//CRUD，对输入进行设置（min/maxLength）以及进行检测\r\n        recorder:[//使用数组，以便判断是否为空\r\n        ],\r\n\r\n        queryFieldEnable:false,//当前 字段查询是否展开\r\n\r\n        selectedQueryField:'', //当前选中的查询字段\r\n        selectedQueryFieldValue:undefined,//下拉菜单中选中的值\r\n        queryField:cont.queryField.department, //可选的查询字段\r\n\r\n        activeQueryValue:{},//当前生效的查询字段和查询值 {field:['value1','value2']}\r\n\r\n        recorderDialogShow:false,//当前modal-dialog是否显示（用来add/modify记录）\r\n\r\n        //从finance/financeCRUDHelper中载入对应CRUD方法\r\n        CRUDOperation:financeCRUDHelper.department,\r\n\r\n        currentOperation:'',\r\n        currentIdx:-1, //当前操作的记录的idx\r\n\r\n        currentOpType:null,\r\n\r\n        loadCurrentData:function(idx,inputAttr,recorder){\r\n            financeHelper.loadCurrentData(idx,inputAttr,recorder);\r\n        },\r\n        initAllFieldInputAttr:function(inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            financeHelper.initAllFieldInputAttr(inputAttr,this.currentOpType)\r\n        },\r\n        initSingleFieldInputAttr:function(field,inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            financeHelper.initSingleFieldInputAttr(field,inputAttr,this.currentOpType)\r\n        }\r\n    }\r\n    //当前字段对应的coll/field（从哪个coll/field获得值来完成autocomplete功能）\r\n    var tmpStr,tmpColl,tmpField\r\n    for(var field in $scope.allData.inputAttr){\r\n        if(true===$scope.allData.inputAttr[field]['isQueryAutoComplete'] || true===$scope.allData.inputAttr[field]['isCRUDAutoComplete']){\r\n            if(''===$scope.allData.inputAttr[field]['autoCompleteCollField']){\r\n                alert('配置错误')\r\n            }else{\r\n                tmpStr=$scope.allData.inputAttr[field]['autoCompleteCollField'].split('.')\r\n                tmpColl=tmpStr[0]\r\n                tmpField=tmpStr[1]\r\n                //添加/修改记录的时候 提供autoComplete功能\r\n                $scope.allData.inputAttr[field]['suggestList']={suggest:financeCRUDHelper.suggest_state[tmpColl][tmpField]}\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.modal={\r\n        commonError:\"commonError\",//create或者update是，发生的非field错误\r\n        title:{'create':'添加数据','update':'修改数据'},\r\n        inputBlur:financeHelper.checkInput,\r\n        inputFocus:financeHelper.initSingleFieldInputAttr,\r\n        buttonFlag:true,//初始为true\r\n        allInputValidCheck:function(inputAttr){\r\n            $scope.modal.buttonFlag=financeHelper.allInputValidCheck(inputAttr)\r\n        },\r\n        CRUDOperation:{\r\n            //此处idx只是为了格式统一，实际没用\r\n            'create':function(idx,inputAttr,recorder){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.department.create(idx,inputAttr,recorder);\r\n                    $scope.switchDialogStatus()\r\n                }\r\n            },\r\n            'update':function(idx,inputAttr,recorder){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.department.update(idx,inputAttr,recorder);\r\n                    $scope.switchDialogStatus();\r\n                }\r\n            },\r\n        },\r\n        allCheckInput:financeHelper.allCheckInput,\r\n\r\n    }\r\n\r\n    helper.adjustFooterPosition()\r\n    //初始化调用\r\n\r\n\r\n    $scope.deleteQueryValue=financeHelper.deleteQueryValue\r\n    $scope.addQueryValue=financeHelper.addQueryValue\r\n\r\n    $scope.change=function(selectedQueryField){\r\n        $scope.allData.selectedQueryFieldValue=''\r\n    }\r\n\r\n    $scope.clickQueryFlag=function(){\r\n        $scope.allData.queryFieldEnable=!$scope.allData.queryFieldEnable\r\n    }\r\n\r\n\r\n\r\n    $scope.switchDialogStatus=function(){\r\n        $scope.allData.recorderDialogShow=!$scope.allData.recorderDialogShow\r\n        helper.verticalModalCenter('CRUDRecorder')\r\n    }\r\n    $scope.setOperationType=function(type,idx){\r\n        $scope.allData.currentOperation=type\r\n        $scope.allData.currentIdx=idx\r\n    }\r\n})\r\n\r\n\r\n\r\napp.controller('configuration.employeeInfo.Controller',function($scope,cont,basicHelper,helper,$sce,financeHelper,financeCRUDHelper,contEnum){\r\n    $scope.allData={\r\n        inputAttr:cont.inputAttr.employee,//CRUD记录的时候，对输入进行设置\r\n        inputRule:cont.inputRule.employee,//CRUD，对输入进行设置（min/maxLength）以及进行检测\r\n        //使用数组，以便判断是否为空\r\n        recorder:[\r\n            {name:'张三',leaderName:\"王五\",departmentName:'工业部',onBoardDate:new Date(),cDate:new Date()},\r\n            {name:'李四',leaderName:\"王五\",departmentName:'工业部',onBoardDate:new Date(),cDate:new Date()},\r\n\r\n        ],\r\n\r\n        queryFieldEnable:false,//当前 字段查询是否展开\r\n\r\n        selectedQueryField:'', //当前选中的查询字段\r\n        selectedQueryFieldValue:undefined,//下拉菜单中选中的值\r\n        queryField:cont.queryField.employee, //可选的查询字段\r\n\r\n        activeQueryValue:{},//当前生效的查询字段和查询值 {field:['value1','value2']}\r\n        recorderDialogShow:false,//当前modal-dialog是否显示（用来add/modify记录）\r\n\r\n        //从finance/financeCRUDHelper中载入对应CRUD方法\r\n        CRUDOperation:financeCRUDHelper.employee,\r\n\r\n        currentOperation:'',\r\n        currentIdx:-1, //当前操作的记录的idx\r\n\r\n        currentOpType:null,\r\n\r\n        loadCurrentData:function(idx,inputAttr,recorder){\r\n// console.log('load data')\r\n            financeHelper.loadCurrentData(idx,inputAttr,recorder);\r\n        },\r\n        initAllFieldInputAttr:function(inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            financeHelper.initAllFieldInputAttr(inputAttr,this.currentOpType)\r\n        },\r\n        initSingleFieldInputAttr:function(field,inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            financeHelper.initSingleFieldInputAttr(field,inputAttr,this.currentOpType)\r\n        }\r\n    }\r\n\r\n    //当前字段对应的coll/field（从哪个coll/field获得值来完成autocomplete功能）\r\n    var tmpStr,tmpColl,tmpField\r\n    for(var field in $scope.allData.inputAttr){\r\n        if(true===$scope.allData.inputAttr[field]['isQueryAutoComplete'] || true===$scope.allData.inputAttr[field]['isCRUDAutoComplete']){\r\n\r\n            if(''===$scope.allData.inputAttr[field]['autoCompleteCollField']){\r\n                alert('配置错误')\r\n            }else{\r\n                tmpStr=$scope.allData.inputAttr[field]['autoCompleteCollField'].split('.')\r\n                tmpColl=tmpStr[0]\r\n                tmpField=tmpStr[1]\r\n                //添加/修改记录的时候 提供autoComplete功能\r\n                $scope.allData.inputAttr[field]['suggestList']={suggest:financeCRUDHelper.suggest_state[tmpColl][tmpField]}\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.modal={\r\n        title:{'create':'添加数据','update':'修改数据'},\r\n        inputBlur:financeHelper.checkInput,\r\n        inputFocus:financeHelper.initSingleFieldInputAttr,\r\n        buttonFlag:true,//初始为true\r\n        allInputValidCheck:function(inputAttr){\r\n            $scope.modal.buttonFlag=financeHelper.allInputValidCheck(inputAttr)\r\n        },\r\n        CRUDOperation:{\r\n            'create':function(idx,inputAttr,recorder){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.employee.create(idx,inputAttr,recorder);\r\n                    $scope.switchDialogStatus()\r\n                }\r\n            },\r\n            'update':function(idx,inputAttr,recorder){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.employee.update(idx,inputAttr,recorder);\r\n                    $scope.switchDialogStatus();\r\n                }\r\n            },\r\n        },\r\n        allCheckInput:financeHelper.allCheckInput,\r\n\r\n    }\r\n\r\n    helper.adjustFooterPosition()\r\n\r\n    $scope.deleteQueryValue=financeHelper.deleteQueryValue\r\n    $scope.addQueryValue=financeHelper.addQueryValue\r\n\r\n    $scope.change=function(selectedQueryField){\r\n        $scope.allData.selectedQueryFieldValue=''\r\n    }\r\n\r\n    $scope.clickQueryFlag=function(){\r\n        $scope.allData.queryFieldEnable=!$scope.allData.queryFieldEnable\r\n    }\r\n\r\n\r\n    $scope.switchDialogStatus=function(){\r\n        $scope.allData.recorderDialogShow=!$scope.allData.recorderDialogShow\r\n        helper.verticalModalCenter('CRUDRecorder')\r\n    }\r\n    $scope.setOperationType=function(type,idx){\r\n        $scope.allData.currentOperation=type\r\n        $scope.allData.currentIdx=idx\r\n    }\r\n})\r\n\r\napp.controller('billController',function($scope,cont,helper){\r\n    $scope.adjustFooterPosition=function(){\r\n        //console.log('main resize')\r\n        helper.adjustFooterPosition()\r\n    }\r\n\r\n/!*    window.onresize=function(){\r\n        helper.adjustFooterPosition()\r\n\r\n        //窗口位置大小变化时，重新设置modal的top\r\n        //每次都要先瞬时显示dialog，以便计算高度\r\n        //首先判断当前modal是否显示，没有的话才瞬时显示\r\n        if(false===$('#modal').hasClass('show')){\r\n            $('#modal').addClass('show')\r\n        }\r\n        helper.verticalCenter('CRUDRecorder')\r\n        //当前modal没有打开，则瞬时显示计算完毕后，立刻消失\r\n        if(false===$('#modal').hasClass('show')){\r\n            $('#modal').removeClass('show')\r\n        }\r\n\r\n    }*!/\r\n})\r\n\r\n\r\n\r\napp.controller('bill.billInfo.Controller',function($scope,cont,basicHelper,helper,$sce,financeHelper,financeCRUDHelper,contEnum){\r\n    $scope.allData={\r\n        inputAttr:cont.inputAttr.bill,//CRUD记录的时候，对输入进行设置\r\n        inputRule:cont.inputRule.bill,//CRUD，对输入进行设置（min/maxLength）以及进行检测\r\n        //使用数组，以便判断是否为空\r\n        recorder:[\r\n            {title:'asb',content:\"打车费\",billName:'加班费',billDate:new Date(),amount:1000,cDate:new Date()},\r\n            {title:'alu',content:\"餐费\",billName:'加班费',billDate:new Date(),amount:2000,cDate:new Date()},\r\n        ],\r\n\r\n        queryFieldEnable:false,//当前 字段查询是否展开\r\n\r\n        selectedQueryField:'', //当前选中的查询字段\r\n        selectedQueryFieldValue:undefined,//下拉菜单中选中的值\r\n        queryField:cont.queryField.bill, //可选的查询字段\r\n\r\n\r\n        activeQueryValue:{},//当前生效的查询字段和查询值 {field:['value1','value2']}\r\n        recorderDialogShow:false,//当前modal-dialog是否显示（用来add/modify记录）\r\n\r\n        //从finance/financeCRUDHelper中载入对应CRUD方法\r\n        CRUDOperation:financeCRUDHelper.bill,\r\n\r\n        currentOperation:'',\r\n        currentIdx:-1, //当前操作的记录的idx\r\n\r\n        currentOpType:null,\r\n\r\n        loadCurrentData:function(idx,inputAttr,recorder){\r\n// console.log('load data')\r\n            financeHelper.loadCurrentData(idx,inputAttr,recorder);\r\n        },\r\n        initAllFieldInputAttr:function(inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            financeHelper.initAllFieldInputAttr(inputAttr,this.currentOpType)\r\n        },\r\n        initSingleFieldInputAttr:function(field,inputAttr){\r\n            $scope.modal.buttonFlag=true;\r\n            financeHelper.initSingleFieldInputAttr(field,inputAttr,this.currentOpType)\r\n        }\r\n    }\r\n\r\n    //当前字段对应的coll/field（从哪个coll/field获得值来完成autocomplete功能）\r\n    var tmpStr,tmpColl,tmpField\r\n    for(var field in $scope.allData.inputAttr){\r\n        if(true===$scope.allData.inputAttr[field]['isQueryAutoComplete'] || true===$scope.allData.inputAttr[field]['isCRUDAutoComplete']){\r\n            if(''===$scope.allData.inputAttr[field]['autoCompleteCollField']){\r\n                alert('配置错误')\r\n            }else{\r\n                tmpStr=$scope.allData.inputAttr[field]['autoCompleteCollField'].split('.')\r\n                tmpColl=tmpStr[0]\r\n                tmpField=tmpStr[1]\r\n                //添加/修改记录的时候 提供autoComplete功能\r\n                $scope.allData.inputAttr[field]['suggestList']={suggest:financeCRUDHelper.suggest_state[tmpColl][tmpField]}\r\n            }\r\n        }\r\n    }\r\n\r\n    $scope.modal={\r\n        title:{'create':'添加数据','update':'修改数据'},\r\n        inputBlur:financeHelper.checkInput,\r\n        inputFocus:financeHelper.initSingleFieldInputAttr,\r\n        buttonFlag:true,//初始为true\r\n        allInputValidCheck:function(inputAttr){\r\n            $scope.modal.buttonFlag=financeHelper.allInputValidCheck(inputAttr)\r\n        },\r\n        CRUDOperation:{\r\n            'create':function(idx,inputAttr,recorder){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.department.create(idx,inputAttr,recorder);\r\n                    $scope.switchDialogStatus()\r\n                }\r\n            },\r\n            'update':function(idx,inputAttr,recorder){\r\n                if($scope.modal.buttonFlag){\r\n                    financeCRUDHelper.department.update(idx,inputAttr,recorder);\r\n                    $scope.switchDialogStatus();\r\n                }\r\n            },\r\n        },\r\n        allCheckInput:financeHelper.allCheckInput,\r\n\r\n    }\r\n\r\n    helper.adjustFooterPosition()\r\n\r\n    $scope.deleteQueryValue=financeHelper.deleteQueryValue\r\n    $scope.addQueryValue=financeHelper.addQueryValue\r\n\r\n    $scope.change=function(selectedQueryField){\r\n        $scope.allData.selectedQueryFieldValue=''\r\n    }\r\n\r\n    $scope.clickQueryFlag=function(){\r\n        $scope.allData.queryFieldEnable=!$scope.allData.queryFieldEnable\r\n    }\r\n\r\n\r\n    $scope.switchDialogStatus=function(){\r\n        $scope.allData.recorderDialogShow=!$scope.allData.recorderDialogShow\r\n        helper.verticalModalCenter('CRUDRecorder')\r\n    }\r\n    $scope.setOperationType=function(type,idx){\r\n        $scope.allData.currentOperation=type\r\n        $scope.allData.currentIdx=idx\r\n    }\r\n})*/\r\n"]}