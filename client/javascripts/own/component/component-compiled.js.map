{"version":3,"sources":["component.js"],"names":[],"mappings":"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","file":"component-compiled.js","sourcesContent":["/**\r\n * Created by wzhan039 on 2016-08-18.\r\n */\r\n    'use strict'\r\nvar app=angular.module('component',[]);\r\n\r\napp.factory('basicHelper',function(){\r\n    var dataTypeCheck=\r\n        {\r\n            isArray(obj) {\r\n                return obj && typeof obj === 'object' &&\r\n                Array == obj.constructor;\r\n            },\r\n            isNumber: function (value) {\r\n                return isNaN(parseFloat(value))\r\n            },\r\n            isString(value){\r\n                return typeof value === 'string'\r\n            },\r\n            isDate(date) {\r\n                let parsedDate=new Date(date)\r\n                if(parsedDate.toLocaleString() ===  'Invalid Date'){\r\n                    return false\r\n                }\r\n                return parsedDate;\r\n                //}\r\n            },\r\n            isPositive(value) {\r\n                let parsedValue = parseFloat(value)\r\n                /*        if(isNaN(parsedValue)){\r\n                 return false\r\n                 }*/\r\n                return parsedValue > 0\r\n            },\r\n        }\r\n\r\n        var ruleTypeCheck=\r\n            {\r\n                inputValueTypeCheck(value){\r\n                    if(false===dataTypeCheck.isArray(value)  && false===dataTypeCheck.isNumber(value) && dataTypeCheck.isString(value) ){\r\n                        return false\r\n                    }else{\r\n                        return true\r\n                    }\r\n                },\r\n                exceedMaxLength(value, maxLength) {\r\n                    //length属性只能在数字/字符/数组上执行\r\n                    if(false==this.inputValueTypeCheck(value)){\r\n                        // console.log(false)\r\n                        return false\r\n                    }\r\n                    //client都是字符\r\n                    // console.log(value.length)\r\n                    return value.length > maxLength\r\n                },\r\n\r\n                exceedMinLength(value, minLength) {\r\n                    if(false==this.inputValueTypeCheck(value)){\r\n                        return false\r\n                    }\r\n                    //client都是字符\r\n                    return value.length < minLength\r\n                },\r\n                exactLength(value, exactLength) {\r\n                    if(false==this.inputValueTypeCheck(value)){\r\n                        return false\r\n                    }\r\n                    //client都是字符\r\n                    return value.length === exactLength\r\n                },\r\n                exceedMax(value, definedValue) {\r\n                    return parseFloat(value) > parseFloat(definedValue)\r\n                },\r\n                exceedMin(value, definedValue) {\r\n                    return parseFloat(value) < parseFloat(definedValue)\r\n                },\r\n            }\r\n\r\n    return {dataTypeCheck,ruleTypeCheck}\r\n})\r\n\r\napp.factory('helper',function(basicHelper){\r\n    return {\r\n        /*\r\n        * leftOffset:覆盖元素的left和当前元素left 之间的offset。可正可负。\r\n        * topOffset：覆盖元素的top和当前元素top 之间的offset。可正可负。\r\n        * widthOffset：覆盖元素的width和当前元素width 之间的offset。可正可负。\r\n        * heightOffset：覆盖元素的height和当前元素height 之间的offset。可正可负。\r\n        * */\r\n        setCoverEle:function(currentEleId,coveringEleId,offset={leftOffset:0,topOffset:0,widthOffset:0,heightOffset:0}){\r\n            let errorMsg={\r\n                eleNotExist:function(eleId){\r\n                    return {rc:1,msg: `元素$(eleId)不存在`}\r\n                },\r\n                paramNotNumber:function(eleId){\r\n                    return {rc:2,msg: `元素$(eleId)不是数值`}\r\n                },\r\n            }\r\n\r\n            //1. 检测输入参数\r\n            let currentEle=document.getElementById(currentEleId)\r\n            if(undefined===currentEle){\r\n                return  errorMsg.eleNotExist(currentEleId)\r\n            }\r\n            let coveringEle=document.getElementById(coveringEleId)\r\n            if(undefined===coveringEle){\r\n                return  errorMsg.eleNotExist(coveringEleId)\r\n            }\r\n\r\n            for(let key in offset){\r\n                if(basicHelper.dataTypeCheck.isNumber(offset[key])){return errorMsg.paramNotNumber(key)}\r\n            }\r\n\r\n            //设置覆盖元素的参数\r\n            coveringEle.style.position='absolute'\r\n            coveringEle.style.left=currentEle.offsetLeft+offset.leftOffset+'px'\r\n            coveringEle.style.top=currentEle.offsetTop+offset.topOffset+'px'\r\n            coveringEle.style.width=currentEle.offsetWidth+offset.widthOffset+'px'\r\n            coveringEle.style.height=currentEle.offsetHeight+offset.heightOffset+'px'\r\n        },\r\n\r\n        /*\r\n        * 说明：根据页面的内容设置footer的位置，使之一直位于页面最下方\r\n        *       如果页面内容（html内容）小于浏览器视口（不包含工具栏），给footer添加fixed-footer，使得footer位于最下方\r\n        *       否则移除fixed-footer(因为此时footer已经在最下方)\r\n        * */\r\n        adjustFooterPosition:function(){\r\n            var contentHeight = document.body.scrollHeight,//网页正文全文高度\r\n                winHeight = window.innerHeight;//可视窗口高度，不包括浏览器顶部工具栏\r\n/*console.log(contentHeight)\r\n            console.log(winHeight)*/\r\n            if(!(contentHeight > winHeight)){\r\n                //当网页正文高度小于可视窗口高度时，为footer添加类fixed-bottom\r\n                //console.log('add')\r\n                $(\"footer\").addClass(\"fixed-footer\");\r\n            } else {\r\n                //console.log('remove')\r\n                $(\"footer\").removeClass(\"fixed-footer\");\r\n            }\r\n\r\n        },\r\n\r\n        /*\r\n        *   说明： bootstrap提供的modal-dialog只能水平居中，本函数用作垂直居中\r\n        * */\r\n        verticalCenter:function(dialogId){\r\n            var dialog=document.getElementById(dialogId)\r\n            var windowHeight=$(window).height()\r\n            var dialogHeight=dialog.offsetHeight\r\n/*console.log(windowHeight)\r\n            console.log(dialogHeight)*/\r\n            //60是botstrap中为diaglog定义的上下margin，略微上移，符合人类审美\r\n            var top=(windowHeight-dialogHeight)/2-60\r\n            if(top<0){\r\n                top=0\r\n            }\r\n            dialog.style.top=top+'px'\r\n        },\r\n    }\r\n})\r\n\r\n\r\napp.factory('financeHelper',function(basicHelper){\r\n    return {\r\n        //传入字段，以及对应的value，那么从activateQueryFieldAndValue删除对应的value，如果filed中对应的value为0，则同时删除field\r\n        deleteQueryValue:function(field,value,activateQueryFieldAndValue){\r\n            for(var i=0;i<activateQueryFieldAndValue[field].length;i++){\r\n                if(value===activateQueryFieldAndValue[field][i]){\r\n                    activateQueryFieldAndValue[field].splice(i,1)\r\n                    break\r\n                }\r\n            }\r\n            if( 0===activateQueryFieldAndValue[field].length){\r\n                delete activateQueryFieldAndValue[field]\r\n            }\r\n        },\r\n        //将选中的field和value加入到allData.activeQueryValue\r\n        addQueryValue:function(field,value,activateQueryFieldAndValue){\r\n            console.log(field)\r\n            if(undefined===activateQueryFieldAndValue[field]){\r\n                activateQueryFieldAndValue[field]=[]\r\n            }\r\n            activateQueryFieldAndValue[field].push(value)\r\n            console.log(activateQueryFieldAndValue)\r\n        },\r\n\r\n        //检查input value\r\n        checkInput:function(field,inputRule,inputAttr){\r\n/*            console.log('blur')\r\n            console.log(field)*/\r\n            var requireFlag=inputRule[field]['require']['define']\r\n            var currentValue=inputAttr[field]['value']\r\n            if(undefined===requireFlag){\r\n                requireFlag=false\r\n            }\r\n\r\n            if(''===currentValue){\r\n                if(false===requireFlag){\r\n                    return true\r\n                }\r\n                if(true===requireFlag){\r\n                    inputAttr[field]['errorMsg']=inputRule[field]['require']['msg']\r\n                    return false\r\n                }\r\n            }\r\n            //input不空，检查当前字段除了require之外的其他所有rule\r\n            if(''!==currentValue){\r\n                for(let singleRule in inputRule[field]){\r\n                    let ruleCheckFunc\r\n                    if('require'===singleRule){\r\n                        continue\r\n                    }\r\n                    switch (singleRule){\r\n                        case 'max':\r\n                            ruleCheckFunc='exceedMax'\r\n                            break;\r\n                        case 'min':\r\n                            ruleCheckFunc='exceedMin'\r\n                            break;\r\n                        case 'maxLength':\r\n                            ruleCheckFunc='exceedMaxLength'\r\n                            break;\r\n                        case 'minLength':\r\n                            ruleCheckFunc='exceedMinLength'\r\n                            break;\r\n                    }\r\n\r\n                    if(true===basicHelper.ruleTypeCheck[ruleCheckFunc](currentValue,inputRule[field][singleRule]['define'])){\r\n                        inputAttr[field]['errorMsg']=inputRule[field][singleRule]['msg']\r\n                        inputAttr[field]['validated']=false\r\n                        break\r\n                    }else{\r\n                        inputAttr[field]['errorMsg']=\"\"\r\n                        inputAttr[field]['validated']=true\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        //init input\r\n        initInput:function(field,inputAttr){\r\n/*            console.log('focus')\r\n            console.log(field)\r\n            console.log(inputAttr)*/\r\n            inputAttr[field]['errorMsg']=''\r\n        },\r\n        //是否所有的input检测都通过了（或者无需）\r\n        allInputValidCheck:function(inputAttr){\r\n// console.log('validate')\r\n            for(let field in inputAttr){\r\n                if(false===inputAttr[field]['validated']){\r\n                    // console.log(inputAttr[field])\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }\r\n    }\r\n})"]}