{"version":3,"sources":["component.js"],"names":[],"mappings":"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","file":"component-compiled.js","sourcesContent":["/**\r\n * Created by wzhan039 on 2016-08-18.\r\n * 通用函数（可供finance调用）\r\n */\r\n    'use strict'\r\nvar app=angular.module('component',['angularMoment']);\r\n\r\n//common的程序\r\napp.factory('validateHelper',function(){\r\n    var dataTypeCheck=\r\n        {\r\n            isArray(obj) {\r\n                return obj && typeof obj === 'object' &&\r\n                Array == obj.constructor;\r\n            },\r\n            isInt: function (value) {\r\n                // return !isNaN(parseInt(value))\r\n                return parseInt(value).toString()===value.toString()\r\n            },\r\n            isNumber: function (value) {\r\n                return !isNaN(parseFloat(value))\r\n            },\r\n            isString(value){\r\n                return typeof value === 'string'\r\n\r\n            },\r\n            isStringEmpty(value){\r\n                return ( \"\" === value || 0 === value.length || \"\" === value.trim());\r\n            },\r\n            isDate(date) {\r\n                let parsedDate=new Date(date)\r\n                if(parsedDate.toLocaleString() ===  'Invalid Date'){\r\n                    return false\r\n                }\r\n                return parsedDate;\r\n                //}\r\n            },\r\n            isPositive(value) {\r\n                let parsedValue = parseFloat(value)\r\n                /*        if(isNaN(parsedValue)){\r\n                 return false\r\n                 }*/\r\n                return parsedValue > 0\r\n            },\r\n        }\r\n\r\n        var ruleTypeCheck=\r\n            {\r\n                inputValueTypeCheck(value){\r\n                    if(false===dataTypeCheck.isArray(value)  && false===dataTypeCheck.isNumber(value) && dataTypeCheck.isString(value) ){\r\n                        return false\r\n                    }else{\r\n                        return true\r\n                    }\r\n                },\r\n                exceedMaxLength(value, maxLength) {\r\n                    //length属性只能在数字/字符/数组上执行\r\n                    if(false==this.inputValueTypeCheck(value)){\r\n                        // console.log(false)\r\n                        return false\r\n                    }\r\n                    //client都是字符\r\n                    // console.log(value.length)\r\n                    return value.length > maxLength\r\n                },\r\n\r\n                exceedMinLength(value, minLength) {\r\n                    if(false==this.inputValueTypeCheck(value)){\r\n                        return false\r\n                    }\r\n                    //client都是字符\r\n                    return value.length < minLength\r\n                },\r\n                exactLength(value, exactLength) {\r\n                    if(false==this.inputValueTypeCheck(value)){\r\n                        return false\r\n                    }\r\n                    //client都是字符\r\n                    return value.length === exactLength\r\n                },\r\n                exceedMax(value, definedValue) {\r\n                    return parseFloat(value) > parseFloat(definedValue)\r\n                },\r\n                exceedMin(value, definedValue) {\r\n                    return parseFloat(value) < parseFloat(definedValue)\r\n                },\r\n            }\r\n\r\n    //检查input value（对单个field进行检查，因为此函数在每个input发生blur就要调用）\r\n    // inputRule/inputAttr是coll级别\r\n    function checkInput(field,inputRule,inputAttr){\r\n        // console.log(`inputAttr is ${JSON.stringify(inputAttr)}`)\r\n        // console.log(`field to be checked is ${JSON.stringify(field)}`)\r\n        //id不需要检测\r\n        if('id'===field){\r\n            return true\r\n        }\r\n        //console.log(`before field is ${field}`)\r\n        var requireFlag=inputRule[field]['require']['define']\r\n        //console.log(`after field is ${field}`)\r\n        var currentValue=inputAttr[field]['value']\r\n        if(undefined===requireFlag){\r\n            requireFlag=false\r\n        }\r\n\r\n        if(''===currentValue){\r\n            if(false===requireFlag){\r\n                inputAttr[field]['validated']=true\r\n                return true\r\n            }\r\n            if(true===requireFlag){\r\n                inputAttr[field]['validated']=false\r\n                inputAttr[field]['errorMsg']=inputRule[field]['require']['msg']\r\n                return false\r\n            }\r\n        }\r\n\r\n        //检查类型\r\n        let tmpFieldDataType=inputRule[field]['type']\r\n        let dataTypeCheckResult=false\r\n/*        console.log(`dataType is ${JSON.stringify(tmpFieldDataType)}`)\r\n        console.log(`value is ${JSON.stringify(currentValue)}`)*/\r\n        switch (tmpFieldDataType){\r\n            case 'int':\r\n                dataTypeCheckResult=dataTypeCheck.isInt(currentValue)\r\n                break;\r\n            case 'float':\r\n                dataTypeCheckResult=dataTypeCheck.isNumber(currentValue)\r\n                console.log(`resulr is ${JSON.stringify(dataTypeCheckResult)}`)\r\n                break;\r\n            case 'number':\r\n                dataTypeCheckResult=dataTypeCheck.isNumber(currentValue)\r\n                break;\r\n            case 'string':\r\n                dataTypeCheckResult=dataTypeCheck.isString(currentValue)\r\n                break;\r\n            case 'date':\r\n                dataTypeCheckResult=dataTypeCheck.isDate(currentValue)\r\n                break;\r\n        }\r\n\r\n        if(false===dataTypeCheckResult){\r\n            if('int'===tmpFieldDataType || 'float'===tmpFieldDataType || 'number'===tmpFieldDataType){\r\n                inputAttr[field]['errorMsg']=inputAttr[field]['chineseName']+'必须是数字'\r\n            }\r\n            if('date'===tmpFieldDataType){\r\n                inputAttr[field]['errorMsg']=inputAttr[field]['chineseName']+'必须是日期'\r\n            }\r\n            inputAttr[field]['validated']=false\r\n            console.log(`error is ${JSON.stringify(inputAttr[field])}`)\r\n            return false\r\n        }\r\n\r\n\r\n        //input不空，检查当前字段除了require之外的其他所有rule\r\n        if(''!==currentValue){\r\n            for(let singleRule in inputRule[field]){\r\n                let ruleCheckFunc\r\n                if('require'===singleRule){\r\n                    continue\r\n                }\r\n\r\n\r\n                //检查rule\r\n                switch (singleRule){\r\n                    case 'max':\r\n                        ruleCheckFunc='exceedMax'\r\n                        break;\r\n                    case 'min':\r\n                        ruleCheckFunc='exceedMin'\r\n                        break;\r\n                    case 'maxLength':\r\n                        ruleCheckFunc='exceedMaxLength'\r\n                        break;\r\n                    case 'minLength':\r\n                        ruleCheckFunc='exceedMinLength'\r\n                        break;\r\n                }\r\n\r\n                if(true===ruleTypeCheck[ruleCheckFunc](currentValue,inputRule[field][singleRule]['define'])){\r\n                    inputAttr[field]['errorMsg']=inputRule[field][singleRule]['msg']\r\n                    inputAttr[field]['validated']=false\r\n                    return false\r\n                }else{\r\n                    inputAttr[field]['errorMsg']=\"\"\r\n                    inputAttr[field]['validated']=true\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    }\r\n    //对所有的input进行检测\r\n    function allCheckInput(inputRule,inputAttr){\r\n        // console.log(`input attr is ${JSON.stringify(inputAttr)}`)\r\n        // console.log('check input in')\r\n        let tmpResult\r\n        for(let singleField in inputAttr){\r\n            tmpResult=checkInput(singleField,inputRule,inputAttr)\r\n            // console.log(`single filed ${singleField} check result is ${tmpResult}`)\r\n            if(false===tmpResult){\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n\r\n    return {dataTypeCheck,ruleTypeCheck,checkInput,allCheckInput}\r\n})\r\n\r\napp.factory('htmlHelper',function(validateHelper){\r\n    return {\r\n        /*\r\n        * leftOffset:覆盖元素的left和当前元素left 之间的offset。可正可负。\r\n        * topOffset：覆盖元素的top和当前元素top 之间的offset。可正可负。\r\n        * widthOffset：覆盖元素的width和当前元素width 之间的offset。可正可负。\r\n        * heightOffset：覆盖元素的height和当前元素height 之间的offset。可正可负。\r\n        * */\r\n        setCoverEle:function(currentEleId,coveringEleId,offset={leftOffset:0,topOffset:0,widthOffset:0,heightOffset:0}){\r\n            let errorMsg={\r\n                eleNotExist:function(eleId){\r\n                    return {rc:1,msg: `元素$(eleId)不存在`}\r\n                },\r\n                paramNotNumber:function(eleId){\r\n                    return {rc:2,msg: `元素$(eleId)不是数值`}\r\n                },\r\n            }\r\n\r\n            //1. 检测输入参数\r\n            let currentEle=document.getElementById(currentEleId)\r\n            if(undefined===currentEle){\r\n                return  errorMsg.eleNotExist(currentEleId)\r\n            }\r\n            let coveringEle=document.getElementById(coveringEleId)\r\n            if(undefined===coveringEle){\r\n                return  errorMsg.eleNotExist(coveringEleId)\r\n            }\r\n\r\n            for(let key in offset){\r\n                if(validateHelper.dataTypeCheck.isNumber(offset[key])){return errorMsg.paramNotNumber(key)}\r\n            }\r\n\r\n            //设置覆盖元素的参数\r\n            coveringEle.style.position='absolute'\r\n            coveringEle.style.left=currentEle.offsetLeft+offset.leftOffset+'px'\r\n            coveringEle.style.top=currentEle.offsetTop+offset.topOffset+'px'\r\n            coveringEle.style.width=currentEle.offsetWidth+offset.widthOffset+'px'\r\n            coveringEle.style.height=currentEle.offsetHeight+offset.heightOffset+'px'\r\n        },\r\n\r\n        /*\r\n        * 说明：根据页面的内容设置footer的位置，使之一直位于页面最下方\r\n        *       如果页面内容（html内容）小于浏览器视口（不包含工具栏），给footer添加fixed-footer，使得footer位于最下方\r\n        *       否则移除fixed-footer(因为此时footer已经在最下方)\r\n        * */\r\n        adjustFooterPosition:function(){\r\n            // let contentHeight = document.body.scrollHeight//网页正文全文高度\r\n            // let winHeight = window.innerHeight//可视窗口高度，不包括浏览器顶部工具栏\r\n            let contentHeight = $(document).height()//网页正文全文高度\r\n            let winHeight = $(window).height()//可视窗口高度，不包括浏览器顶部工具栏\r\n            // console.log(`contentHeight is ${contentHeight}, winHeight is ${winHeight}`)\r\n            //console.log(winHeight)\r\n            if(!(contentHeight > winHeight)){\r\n                //当网页正文高度小于可视窗口高度时，为footer添加类fixed-bottom\r\n                //console.log('add')\r\n                $(\"footer\").addClass(\"fixed-footer\");\r\n            } else {\r\n                // console.log('remove')\r\n                $(\"footer\").removeClass(\"fixed-footer\");\r\n            }\r\n\r\n        },\r\n\r\n\r\n\r\n        /*\r\n        *   说明： bootstrap提供的modal-dialog只能水平居中，本函数用作垂直居中\r\n        *   窗口位置大小变化时，重新设置modal的top\r\n        *   因为modal在隐藏时，无法计算得到height（试图通过在载入页面时，先瞬时显示在隐藏modal的方法，来获得height，但是失败），所以直接在元素填入height属性，供js提取使用\r\n        */\r\n        verticalModalCenter:function(dialogId){\r\n            var dialog=document.getElementById(dialogId)\r\n            //因为此函数可能在整个window上监听onsize，所以需要判断modal是否存在，不存在直接退出\r\n            if(null===dialog){\r\n                return false\r\n            }\r\n            var windowHeight=$(window).height()\r\n            //var dialogHeight=dialog.offsetHeight\r\n            //console.log(dialog.offsetHeight)\r\n            var dialogHeight=dialog.style.height.replace('px','')\r\n\r\n            //console.log(`windos height is ${windowHeight}`)\r\n            //console.log(`dialog height is ${dialogHeight}`)\r\n            //diag太长了\r\n            //60是botstrap中为diaglog定义的上下margin，略微上移，符合人类审美\r\n          if(windowHeight-dialogHeight<30){\r\n                var top=20 //不能覆盖header\r\n            }else{\r\n/*                console.log(`windowHeight-dialogHeight is ${windowHeight-dialogHeight}`)\r\n                console.log(`windowHeight-dialogHeight/2 is ${(windowHeight-dialogHeight)/2}`)*/\r\n                top=((windowHeight-dialogHeight)/2)-30\r\n                //console.log(`result is ${top}`)\r\n            }\r\n\r\n/*            var top=((windowHeight-dialogHeight)/2)-60\r\n            if(top<0){\r\n                top=0\r\n            }*/\r\n\r\n            dialog.style.top=top+'px'\r\n\r\n        },\r\n\r\n\r\n    }\r\n})\r\n\r\n/*            设置 查询条件 时，使用的函数              */\r\napp.factory('queryHelper',function(contEnum) {\r\n    //var allFunc={}\r\n    //allFunc={\r\n    //field：要操作的字段名\r\n    //idx：要删除的搜索值（因为搜索值是一个数组，格式为[{value:'val1'}]）\r\n    function deleteQueryValue(field, idx, activateQueryFieldAndValue) {\r\n        if(activateQueryFieldAndValue[field] && activateQueryFieldAndValue[field][idx]){\r\n            activateQueryFieldAndValue[field].splice(idx,1)\r\n            if (0 === activateQueryFieldAndValue[field].length) {\r\n                delete activateQueryFieldAndValue[field]\r\n            }\r\n        }\r\n    }\r\n/*    function deleteQueryValue(field, idx, activateQueryFieldAndValue) {\r\n        for (var i = 0; i < activateQueryFieldAndValue[field].length; i++) {\r\n            if (value === activateQueryFieldAndValue[field][i]) {\r\n                activateQueryFieldAndValue[field].splice(i, 1)\r\n                break\r\n            }\r\n        }\r\n        if (0 === activateQueryFieldAndValue[field].length) {\r\n            delete activateQueryFieldAndValue[field]\r\n        }\r\n    }*/\r\n\r\n    //将选择的field和value键入数组（以便在client显示，而不能直接转换成server端的格式）\r\n    //{name:['a','b'],parentBillType:['c','d']}\r\n    function addQueryValueOld(field, value, fkConfig,activateQueryFieldAndValue) {\r\n        // console.log(`field is ${field},value is ${JSON.stringify(value)}, activated value is ${activateQueryFieldAndValue}`)\r\n        // if(undefined===activateQueryFieldAndValue){\r\n        //     console.log(`in to init activea vlauy`)\r\n        //     activateQueryFieldAndValue={}\r\n        // }\r\n        console.log(`field is ${JSON.stringify(field)}`)\r\n        console.log(`field is ${JSON.stringify(value)}`)\r\n\r\n/*        let eleValue={'value':value}\r\n        //是外键，需要找到对应的冗余字段\r\n        if(true=== field in fkConfig){\r\n            let redundancyField=fkConfig[field]['fields'][0] //当前冗余字段虽然是数组，但是其实只有一个元素\r\n            if (undefined === activateQueryFieldAndValue[field]) {\r\n                activateQueryFieldAndValue[field] = {}  //外键为object，内置冗余字段\r\n            }\r\n            if (undefined === activateQueryFieldAndValue[field][redundancyField]) {\r\n                activateQueryFieldAndValue[field][redundancyField] = []\r\n            }\r\n            activateQueryFieldAndValue[field][redundancyField].push(eleValue)\r\n        }else{\r\n            if (undefined === activateQueryFieldAndValue[field]) {\r\n                activateQueryFieldAndValue[field] = []  //非外键直接数组，内置查询参数\r\n            }\r\n            activateQueryFieldAndValue[field].push(eleValue)\r\n        }*/\r\n\r\n        if (undefined === activateQueryFieldAndValue[field]) {\r\n            activateQueryFieldAndValue[field] = []\r\n        }\r\n        //如果是select传递过来的值\r\n        if (value.key) {\r\n            activateQueryFieldAndValue[field].push(value.key)\r\n        } else {\r\n            activateQueryFieldAndValue[field].push(value)\r\n        }\r\n\r\n    }\r\n\r\n    //无论字段类型，使用同一个函数进行处理，得到统一格式\r\n    //{name:[{value:'val1'},{value:'val2'}], parentBillType:{name:[{value:'name1'}]}, age:[{value:20,comOp:'gt',compSymbol:'>'}]}\r\n    //如果是日期或者数字，会多出一个compSymbol，用来在页面上显示比较符，需要通过convertAddQueryValueToServerFormat去掉\r\n    function addQueryValue(field, value,activateQueryFieldAndValue,operator) {\r\n\r\n/*        console.log(`field is ${JSON.stringify(field)}`)\r\n        console.log(`value is ${JSON.stringify(value)}`)\r\n        console.log(`operator is ${JSON.stringify(operator)}`)*/\r\n\r\n\r\n        if (undefined === activateQueryFieldAndValue[field]) {\r\n            activateQueryFieldAndValue[field] = []\r\n        }\r\n\r\n\r\n        //如果有比较符，同时activateQueryFieldAndValue的某个查询元素也带有此相同的比较符，那么直接用新的值代替这个元素中的搜索值\r\n        if(operator) {\r\n            //将测是否已经有对应的compOp\r\n            //有，直接覆盖value\r\n            for (let singleParam of activateQueryFieldAndValue[field]) {\r\n                if (singleParam['compOp'] && operator === singleParam['compOp']) {\r\n                    singleParam['value'] = value\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n\r\n        //activateQueryFieldAndValue字段的搜索数组中没有 比较符\r\n        let valueToBePush={}   //如果当前此字段没有对应的比较符，那么valueToBePush初始化为{}，并赋值；  否则从当前字段中取出符号为此\r\n        if(operator) {\r\n            valueToBePush['compOp']=operator\r\n            if('gt'===operator){\r\n                valueToBePush['compSymbol']='>'\r\n            }\r\n            if('lt'===operator){\r\n                valueToBePush['compSymbol']='<'\r\n            }\r\n        }\r\n        //如果是select传递过来的值\r\n        if (value.key) {\r\n            valueToBePush['value']=value.key\r\n        } else {\r\n            valueToBePush['value']=value\r\n        }\r\n\r\n\r\n\r\n        activateQueryFieldAndValue[field].push(valueToBePush)\r\n    }\r\n\r\n\r\n    //如果是外键，选择外键对应的冗余字段（一般是一个）；同时，如果是日期或者数字，去掉compSymbol\r\n    // {\"values\":{\"name\":[{\"value\":\"{{billtype_name_1}}\"}],\"parentBillType\":{\"name\":[{\"value\":\"{{billtype_name_2}}\"}]}}}\r\n    function convertAddQueryValueToServerFormat(activateQueryFieldAndValue,fkConfig,currentPage){\r\n        let formattedValue={}\r\n        if(Object.keys(activateQueryFieldAndValue).length>0){\r\n            for(let fieldName in activateQueryFieldAndValue){\r\n                let aValue //应用需要加入值的数组（外键和非外键的结构不一致）\r\n                //1. 创建必要的结构\r\n                //如果是外键\r\n                if(true===fieldName in fkConfig){\r\n                    if(undefined===formattedValue[fieldName]){\r\n                        formattedValue[fieldName]={}\r\n                    }\r\n                    let redundancyField=fkConfig[fieldName]['fields'][0]//当前冗余字段虽然是数组，但是其实只有一个元素\r\n                    if(undefined===formattedValue[fieldName][redundancyField]){\r\n                        formattedValue[fieldName][redundancyField]=[]\r\n                    }\r\n                    aValue=formattedValue[fieldName][redundancyField]\r\n                }else{\r\n                    if(undefined===formattedValue[fieldName]){\r\n                        formattedValue[fieldName]=[]    //非外键直接数组\r\n                    }\r\n                    aValue=formattedValue[fieldName]\r\n                }\r\n\r\n                for(let singleValue of activateQueryFieldAndValue[fieldName]){\r\n                    //不能直接 delete singleValue['compSymbol']（因为是引用），只能直接复制\r\n                    let newValue={}\r\n                    newValue['value']=singleValue['value']\r\n                    newValue['compOp']=singleValue['compOp']\r\n\r\n                    aValue.push(newValue)\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return {'currentPage':currentPage,'searchParams':formattedValue}\r\n    }\r\n    return {deleteQueryValue,addQueryValue,convertAddQueryValueToServerFormat}\r\n})\r\n/*    function convertAddQueryValueToServerFormat(activateQueryFieldAndValue,fkConfig,currentPage){\r\n        let formattedValue={}\r\n        if(Object.keys(activateQueryFieldAndValue).length>0){\r\n            for(let fieldName in activateQueryFieldAndValue){\r\n                let aValue //应用需要加入值的数组（外键和非外键的结构不一致）\r\n                //1. 创建必要的结构\r\n                //如果是外键\r\n                if(true===fieldName in fkConfig){\r\n                    if(undefined===formattedValue[fieldName]){\r\n                        formattedValue[fieldName]={}\r\n                    }\r\n                    let redundancyField=fkConfig[fieldName]['fields'][0]//当前冗余字段虽然是数组，但是其实只有一个元素\r\n                    if(undefined===formattedValue[fieldName][redundancyField]){\r\n                        formattedValue[fieldName][redundancyField]=[]\r\n                    }\r\n                    aValue=formattedValue[fieldName][redundancyField]\r\n                }else{\r\n                    if(undefined===formattedValue[fieldName]){\r\n                        formattedValue[fieldName]=[]    //非外键直接数组\r\n                    }\r\n                    aValue=formattedValue[fieldName]\r\n                }\r\n\r\n                for(let singleValue of activateQueryFieldAndValue[fieldName]){\r\n                    let newValue={value:singleValue}\r\n                    aValue.push(newValue)\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n        return {'currentPage':currentPage,'searchParams':formattedValue}\r\n    }\r\n    return {deleteQueryValue,addQueryValue,convertAddQueryValueToServerFormat}\r\n})*/\r\n\r\napp.factory('inputAttrHelper',function(contEnum) {\r\n    //对某个input设置errorMsg（errorMsg隐式设置input样式）\r\n    function setSingleInputAttrErrorMsg(field,inputAttr,errMsg){\r\n        inputAttr[field]['errorMsg']=errMsg\r\n        inputAttr[field]['validated']=false\r\n    }\r\n    //对inputAttr中的一个字段进行初始化\r\n    function initSingleFieldInputAttrCreate(field,inputAttr){\r\n        // console.log(opType)\r\n        // if(contEnum.opType.create===opType){\r\n            inputAttr[field]['value']=''\r\n        // }\r\n        inputAttr[field]['originalValue']=''\r\n        inputAttr[field]['validated']='undefined'\r\n        inputAttr[field]['errorMsg']=''\r\n    }\r\n    //对一个inputAttr中所有field进行初始化\r\n    function initAllFieldInputAttrCreate(inputAttr){\r\n        // console.log(inputAttr)\r\n        for(let singleField in inputAttr){\r\n            // console.log(singleField)\r\n            initSingleFieldInputAttrCreate(singleField,inputAttr)\r\n        }\r\n        // console.log(inputAttr)\r\n    }\r\n\r\n    function initSingleFieldInputAttrUpdate(field,inputAttr){\r\n        // console.log(opType)\r\n        // if(contEnum.opType.create===opType){\r\n        //     inputAttr[field]['value']=''\r\n        // }\r\n        inputAttr[field]['originalValue']=''\r\n        inputAttr[field]['validated']='undefined'\r\n        inputAttr[field]['errorMsg']=''\r\n    }\r\n    //对一个inputAttr中所有field进行初始化\r\n    function initAllFieldInputAttrUpdate(inputAttr){\r\n        // console.log(inputAttr)\r\n        for(let singleField in inputAttr){\r\n            // console.log(singleField)\r\n            initSingleFieldInputAttrUpdate(singleField,inputAttr)\r\n        }\r\n        // console.log(inputAttr)\r\n    }\r\n    //是否所有的input检测都通过了（或者无需）\r\n    function allInputValidCheck(inputAttr){\r\n        for(let field in inputAttr){\r\n            if(false===inputAttr[field]['validated']){\r\n                // console.log(inputAttr[field])\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n    //将当前的记录载入到inputAttr\r\n    function loadCurrentData(idx,inputAttr,recorder,fkConfig){\r\n        for(var field in inputAttr){\r\n\r\n            if(undefined===recorder[idx][field] || null===recorder[idx][field]){\r\n                inputAttr[field]['value']=''\r\n                inputAttr[field]['originalValue']='' //用来比较是不是做了修改\r\n            }else{\r\n                let newValue=recorder[idx][field]\r\n                if(true===field in fkConfig){\r\n                    let redundancyField=fkConfig[field]['fields'][0]\r\n                    newValue=recorder[idx][field][redundancyField]\r\n                }\r\n                inputAttr[field]['value']=newValue\r\n                inputAttr[field]['originalValue']=newValue //用来比较是不是做了修改\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    //为未在inputRule中定义的字段，在inputAttr中产生对应的field，以便显示在页面\r\n    //举例，创建或者修改记录时，其中的cDate/uDate，是server自动产生，而无需client输入，但是可能需要显示在页面，此时，需要添加到inputAttr\r\n    //记录到inputAttr是，只需value一个key，无需type，因为只是显示，不会修改（只在server修改）\r\n    function generateAdditionalFieldIntoInputAttr(recorder,inputAttr){\r\n        for(var singleFieldName in recorder){\r\n            if(undefined===inputAttr[singleFieldName]){\r\n                inputAttr[singleFieldName]={}\r\n                inputAttr[singleFieldName]['value']=recorder[singleFieldName] //只需value一个key，无需type，因为只是显示，不会修改（只在server修改）\r\n            }\r\n        }\r\n    }\r\n\r\n    //将inputAttr的value转换成values:{f1:{value:1},f2:{value:2}}的格式，以便在传递到server\r\n//如果无值，则设成null，server会自动进行处理\r\n    function convertedInputAttrFormatCreate(inputAttrs){\r\n        var value={}\r\n        for(var singleInputAttr in inputAttrs){\r\n            value[singleInputAttr]={}\r\n            //console.log(`current field is ${singleInputAttr}`)\r\n            //console.log(`current field value is ${JSON.stringify(inputAttrs[singleInputAttr]) }`)\r\n            if(undefined!==inputAttrs[singleInputAttr]['value'] &&  null!==inputAttrs[singleInputAttr]['value'] && ''!==inputAttrs[singleInputAttr]['value']){\r\n                value[singleInputAttr]['value']=inputAttrs[singleInputAttr]['value']\r\n            }else{\r\n                value[singleInputAttr]['value']=null\r\n            }\r\n        }\r\n        return value\r\n    }\r\n\r\n\r\n    //只有value和originalValue的值不同，才会将value发送到server\r\n    function convertedInputAttrFormatUpdate(inputAttrs){\r\n        var value={}\r\n        for(var singleInputAttr in inputAttrs){\r\n            value[singleInputAttr]={}\r\n            //console.log(`current field is ${singleInputAttr}`)\r\n            //console.log(`current field value is ${JSON.stringify(inputAttrs[singleInputAttr]) }`)\r\n            if(inputAttr[singleInputAttr]['value']!==inputAttr[singleInputAttr]['originalValue']){\r\n                if(undefined!==inputAttrs[singleInputAttr]['value'] &&  null!==inputAttrs[singleInputAttr]['value'] && ''!==inputAttrs[singleInputAttr]['value']){\r\n                    value[singleInputAttr]['value']=inputAttrs[singleInputAttr]['value']\r\n                }else{\r\n                    value[singleInputAttr]['value']=null\r\n                }\r\n            }\r\n        }\r\n        return value\r\n    }\r\n\r\n    //acObj:客户端获得的autoComplete的选中值；values：将要发送到server的数据\r\n    //acObj {parentBillType:{value:'xxx','_id':null}====>values  {parentBillType:{value:'_id'}}\r\n    function convertSingleACFormat(acField,acObj,values){\r\n        // for(let key in acObj){\r\n        if(undefined!==acObj && null!==acObj){\r\n            values[acField]={value:null}\r\n            if(undefined!==acObj[acField]['_id'] || null!==acObj[acField]['_id']){\r\n                values[acField]['value']=acObj[acField]['_id']\r\n            }\r\n        }\r\n\r\n        // }\r\n    }\r\n\r\n    //对于create，如果是null的话，说明没有设置\r\n    function initSingleAcFieldForCreate(acField,acObj){\r\n        if(undefined===acObj[acField] || null===acObj[acField]){\r\n            acObj[acField]={}\r\n        }\r\n        acObj[acField]['value']=''\r\n        acObj[acField]['_id']=null\r\n    }\r\n\r\n    //对于update，如果_id是-1的话，说明没有设置（null代表要删除此字段）\r\n    function initSingleAcFieldForUpdate(acField,acObj){\r\n        if(undefined===acObj[acField] || null===acObj[acField]){\r\n            acObj[acField]={}\r\n        }\r\n        acObj[acField]['value']=''\r\n        acObj[acField]['_id']=-1\r\n    }\r\n    return {\r\n        setSingleInputAttrErrorMsg,\r\n        initSingleFieldInputAttrCreate,\r\n        initAllFieldInputAttrCreate,\r\n        initSingleFieldInputAttrUpdate,\r\n        initAllFieldInputAttrUpdate,\r\n        allInputValidCheck,\r\n        loadCurrentData,\r\n        generateAdditionalFieldIntoInputAttr,\r\n        convertedInputAttrFormatCreate,\r\n        convertedInputAttrFormatUpdate,\r\n        convertSingleACFormat,\r\n        initSingleAcFieldForCreate,\r\n        initSingleAcFieldForUpdate,\r\n    }\r\n})\r\n\r\napp.factory('commonHelper',function(){\r\n    //对server返回的result，进行检查，如果是日期，用moment进行转换\r\n    //result：从server返回的结果(非数组，而是单个记录)；filedType：当前result的field类型\r\n    function convertDateTime(singleRecorder,fieldType){\r\n        let dateFormat='YYYY-MM-DD HH:mm:ss'\r\n        for(let singleFiled in singleRecorder){\r\n            //result中的字段是否为date，是的话用moment进行转换\r\n            if(-1!==fieldType.indexOf(singleFiled)){\r\n                singleRecorder[singleFiled]=moment(singleRecorder[singleFiled]).format(dateFormat)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return {\r\n        convertDateTime,\r\n    }\r\n})\r\n\r\napp.service('modal',function(){\r\n    let _modalId,_modalMsgId,_modalTitleId,_modalCloseButtonId,_modalCloseSymbolId\r\n    function _setTop(){\r\n        //$('#modal_modal>div').height()=174，直接测量得到，因为只有在show时，才有height，hide时为0\r\n        //var top=parseInt((document.body.clientHeight-174)/2)\r\n        $('#'+_modalId).css('top',100)\r\n    }\r\n    function _modalHide(){\r\n        $('#'+_modalMsgId).text('')\r\n        $('#'+_modalId).removeClass('show')\r\n        $('#'+_modalTitleId).text('').removeClass('text-danger').removeClass('text-info')\r\n        $('#'+_modalCloseButtonId).removeClass('btn-danger').removeClass('btn-info').unbind('click')\r\n        $('#'+_modalCloseSymbolId).unbind('click')\r\n    }\r\n    /*                  设置id            */\r\n    //modal的id\r\n    this.setModalId=function(modalId){\r\n        _modalId=modalId\r\n        //默认是如下格式，可以通过set覆盖\r\n        _modalMsgId=modalId+'_msg'\r\n        _modalTitleId=modalId + '_title'\r\n        _modalCloseButtonId=modalId+'_close_button'\r\n        _modalCloseSymbolId=modalId+'_close_symbol'\r\n    }\r\n\r\n    //modalMsg：显示信息的元素\r\n    this.setModalMsgId=function(modalMsgId){\r\n        _modalMsgId=modalMsgId\r\n    }\r\n\r\n    this.setModalTitleId=function(modalTitleId){\r\n        _modalTitleId=modalTitleId\r\n    }\r\n\r\n    this.setModalCloseButtonId=function(modalCloseButtonId){\r\n        _modalCloseButtonId=modalCloseButtonId\r\n    }\r\n\r\n    this.setModalCloseSymbolId=function(modalCloseSymbolId){\r\n        _modalCloseSymbolId=modalCloseSymbolId\r\n    }\r\n\r\n    /*              设置信息            */\r\n    this.showErrMsg=function(msg){\r\n        _setTop()\r\n        $('#'+_modalMsgId).text(msg)\r\n        //$('#modal_msg').text=msg\r\n        $('#'+_modalId).addClass('show')\r\n        $('#'+_modalTitleId).text('错误').addClass('text-danger')\r\n        $('#'+_modalCloseButtonId).addClass('btn-danger').bind('click',function(){\r\n            _modalHide(_modalId)\r\n        })\r\n        $('#'+_modalCloseSymbolId).bind('click',function(){\r\n            _modalHide(_modalId)\r\n        })\r\n    }\r\n\r\n    this.showInfoMsg=function(msg) {\r\n        _setTop()\r\n        $('#' + _modalMsgId).text(msg)\r\n        $('#' + _modalId ).addClass('show')\r\n        $('#' +_modalTitleId).text('信息').addClass('text-info')\r\n        $('#' + _modalCloseButtonId).addClass('btn-info').bind('click', function () {\r\n            _modalHide(_modalId)\r\n        })\r\n        $('#' + _modalCloseSymbolId).bind('click', function () {\r\n            //console.log(`click symbol id is ${_modalCloseSymbolId}`)\r\n            _modalHide(_modalId)\r\n        })\r\n    }\r\n\r\n\r\n})\r\n\r\napp.service('modalChoice',function(htmlHelper){\r\n    let _modalId,_modalMsgId,_modalTitleId,_modalYesButtonId,_modalNoButtonId,_modalCloseSymbolId\r\n    function _setTop(){\r\n        //$('#modal_modal>div').height()=174，直接测量得到，因为只有在show时，才有height，hide时为0\r\n        //var top=parseInt(($(window).height()-174)/2)\r\n        $('#'+_modalId).css('top',100)\r\n        //htmlHelper.verticalModalCenter(_modalId)\r\n    }\r\n    function _modalHide(){\r\n        $('#'+_modalMsgId).text('')\r\n        $('#'+_modalId).removeClass('show')\r\n        $('#'+_modalTitleId).text('').removeClass('text-danger').removeClass('text-info')\r\n        $('#'+_modalYesButtonId).removeClass('btn-danger').removeClass('btn-info').unbind('click')\r\n        $('#'+_modalNoButtonId).removeClass('btn-danger').removeClass('btn-info').unbind('click')\r\n        $('#'+_modalCloseSymbolId).unbind('click')\r\n    }\r\n    /*                  设置id            */\r\n    //modal的id\r\n    this.setModalId=function(modalId){\r\n        _modalId=modalId\r\n        //默认是如下格式，可以通过set覆盖\r\n        _modalMsgId=modalId+'_msg'\r\n        _modalTitleId=modalId + '_title'\r\n        _modalYesButtonId=modalId+'_yes_button'\r\n        _modalNoButtonId=modalId+'_no_button'\r\n        _modalCloseSymbolId=modalId+'_close_symbol'\r\n    }\r\n\r\n    /*//choice is yes/no, string\r\n    function setChoice(choice){\r\n        //采用jquery的deferred，以便全局操作\r\n        let deferred=$q.defer()\r\n        if('yes'===choice.toLowerCase()){\r\n            deferred.resolve(true)\r\n        }else{\r\n            deferred.resolve(false)\r\n        }\r\n        return deferred.promise\r\n    }*/\r\n    //modalMsg：显示信息的元素\r\n    this.setModalMsgId=function(modalMsgId){\r\n        _modalMsgId=modalMsgId\r\n    }\r\n\r\n    this.setModalTitleId=function(modalTitleId){\r\n        _modalTitleId=modalTitleId\r\n    }\r\n\r\n    this.setModalYesButtonId=function(modalYesButtonId){\r\n        _modalYesButtonId=modalYesButtonId\r\n    }\r\n\r\n    this.setModalNoButtonId=function(modalNoButtonId){\r\n        _modalNoButtonId=modalNoButtonId\r\n    }\r\n\r\n    this.setModalCloseSymbolId=function(modalCloseSymbolId){\r\n        _modalCloseSymbolId=modalCloseSymbolId\r\n    }\r\n\r\n    /*              设置信息            */\r\n    //currentPage:删除后要重新获得当前页的数据\r\n    this.showChoiceMsg=function(msg,yesDelFunc,idx,recorder,currentPage) {\r\n/*        console.log(  `enter show choice msg`)\r\n        console.log(  `_modalId is ${_modalId}`)*/\r\n        _setTop()\r\n        $('#' + _modalMsgId).text(msg)\r\n        $('#' + _modalId ).addClass('show')\r\n        $('#' +_modalTitleId).text('删除').addClass('text-danger')\r\n        $('#' + _modalYesButtonId).addClass('btn-danger').bind('click', function () {\r\n            _modalHide(_modalId)\r\n            yesDelFunc(idx,recorder,currentPage)\r\n            //return setChoice('yes')\r\n        })\r\n        $('#' + _modalNoButtonId).addClass('').bind('click', function () {\r\n            _modalHide(_modalId)\r\n            //return setChoice('no')\r\n        })\r\n        $('#' + _modalCloseSymbolId).bind('click', function () {\r\n            //console.log(`click symbol id is ${_modalCloseSymbolId}`)\r\n            _modalHide(_modalId)\r\n        })\r\n    }\r\n\r\n\r\n})\r\n\r\n//采用jquery的方式对指定的input进行初始化，以及设置获得日期时间\r\napp.service('dateTimePickerHelper',function(){\r\n    let _dateTimeEleId\r\n    this.initEle=function(eleId){\r\n        _dateTimeEleId=eleId\r\n        console.log(`dateTimePicker init in`)\r\n        console.log(`id is ${_dateTimeEleId}`)\r\n/*\r\n        $(function () {\r\n            console.log(`date tiem picker is id ${_dateTimeEleId}`)\r\n            $('#' + _dateTimeEleId).datetimepicker()\r\n        })*/\r\n        $('#'+_dateTimeEleId).datetimepicker(\r\n            {\r\n            locale:'zh-cn', // 根据moment的定义，https://github.com/moment/moment/tree/develop/locale\r\n/*            default:function(){\r\n                \r\n            },*/\r\n                viewMode:'days',//default days, accept decades/years/months/\r\n                format:'YYYY-MM-DD', //http://momentjs.com/docs/#/displaying/format/ 'YYYY-MM-DD HH:mm'\r\n            icons: {\r\n                time: \"fa fa-clock-o\",\r\n                date: \"fa fa-calendar\",\r\n                up: \"fa fa-arrow-up\",\r\n                down: \"fa fa-arrow-down\"\r\n            }\r\n        }\r\n        )\r\n    }\r\n})"]}