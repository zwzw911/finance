{"version":3,"sources":["shaLua.js"],"names":[],"mappings":"AAAA;;;AAGA;;AACA,QAAQ,gBAAR;AACA,QAAQ,qBAAR;AACA;AACA,IAAI,UAAQ,QAAQ,4CAAR,CAAZ;AACA,IAAI,UAAQ,QAAQ,OAApB;AACA;AACA,IAAI,MAAI,2BAAR;;AAKA;;;AAGA;;;AAGA;;;;;;;;;;;;;;;;AAgBA;AACA,QAAQ,eAAR,CAAwB,GAAxB,EAA6B,IAA7B,CAAkC,UAAC,CAAD;AAAA,SAAK,QAAQ,GAAR,CAAY,CAAZ,CAAL;AAAA,CAAlC,EAAuD,KAAvD,CAA6D,UAAC,CAAD;AAAA,SAAK,QAAQ,GAAR,CAAY,CAAZ,CAAL;AAAA,CAA7D","file":"shaLua-compiled.js","sourcesContent":["/**\r\n * Created by wzhan039 on 2016-09-23.\r\n */\r\n'use strict'\r\nrequire(\"babel-polyfill\");\r\nrequire(\"babel-core/register\")\r\n// var func=require('../server/assist/component/shaLua-compiled').shaSingleFile\r\nvar shaFunc=require('../server/assist/component/shaLua-compiled')\r\nvar execLua=shaFunc.execLua\r\n// var file='./Lua_check_interval.lua'\r\nvar dir='../server/model/redis/Lua'\r\n\r\n\r\n\r\n\r\n/*\r\n* key不能用引号括起来，否则Lua无法解析；value必须用双引号括起，否则无法解析\r\n* */\r\n//execLua(dir,'set_reject_flag.lua',\"{id:'192.168.192.10',ttl:9000}\").then((v)=>{let a=JSON.parse(v);console.log(`result is ${a.a}`);console.log(typeof(v))},e=>console.log(`error is ${e}`))\r\n\r\n\r\n/*\r\n var params= {\r\n 'id':\"192.168.1.1\",\r\n currentTime:new Date().getTime(),\r\n \"setting\": {\r\n \"expireTimeBetween2Req\": 500,\r\n \"expireTimeOfRejectTimes\": 600,\r\n \"timesInDuration\": 5,\r\n \"duration\": 60,\r\n \"rejectTimesThreshold\": 5\r\n }\r\n }\r\n\r\n execLua(dir,'Lua_check_interval.lua',JSON.stringify(params)).then((v)=>{let a=JSON.parse(v);console.log(`result is ${a.a}`);console.log(typeof(v))},e=>console.log(`error is ${e}`))\r\n */\r\n\r\n//sha并读取所有的lua脚本\r\nshaFunc.shaLuaFileOrDir(dir).then((v)=>console.log(v)).catch((e)=>console.log(e))\r\n"]}